!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="a5ae08b9-8805-4e31-a7e8-a6479066d21f",e._sentryDebugIdIdentifier="sentry-dbid-a5ae08b9-8805-4e31-a7e8-a6479066d21f")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"dd1337ad"},(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[937],{30937:function(e,n,t){t.d(n,{Z:function(){return Qt}});var r=t(57389),o=t(2272),i=t(74985),l=t(57135),a=t(96583),s=t(35509),c=t(63723),u=t(15436),d=t(93082),h=t(95141),p=t(20685),m=t(21651),f=t(54314),v=t(55418),g=t(46550),Z=t(53312),y=t(61623),b=t(26473),x=t(44385),w=t(62385),C=t(3689),U=t(78586),G=t(2580),B=t(88965),S=t(21423),T=t(51631),I=t(50959),P=t(72006),D=t(43119),M=t(71440),k=t(50216),X=t(24635);function R(){var e=(0,D.Z)(["\n  fragment AccountAccountCurrentUser on CurrentUser {\n    id\n    email\n    isVerified\n    verifiedPhoneNumber\n    locale\n    replContinent {\n      id\n      name\n    }\n  }\n"]);return R=function(){return e},e}function _(){var e=(0,D.Z)(["\n  mutation AccountUpdateEmail($email: String!, $password: String!) {\n    updateEmail(email: $email, password: $password) {\n      ... on UserError {\n        message\n      }\n      ... on CurrentUser {\n        id\n        ...AccountAccountCurrentUser\n      }\n    }\n  }\n  ","\n"]);return _=function(){return e},e}function A(){var e=(0,D.Z)(["\n  mutation AccountUpdatePassword(\n    $currentPassword: String!\n    $newPassword: String!\n  ) {\n    updatePassword(\n      currentPassword: $currentPassword\n      newPassword: $newPassword\n    ) {\n      ... on UserError {\n        message\n      }\n      ... on CurrentUser {\n        id\n      }\n    }\n  }\n"]);return A=function(){return e},e}function E(){var e=(0,D.Z)(["\n  mutation AccountDeleteAccount {\n    deleteAccount\n  }\n"]);return E=function(){return e},e}function W(){var e=(0,D.Z)(["\n  mutation AccountSelectReplContinent($input: SelectReplContinentInput!) {\n    selectReplContinent(input: $input) {\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n      ... on CurrentUser {\n        id\n        ...AccountAccountCurrentUser\n      }\n    }\n  }\n  ","\n"]);return W=function(){return e},e}function N(){var e=(0,D.Z)(["\n  query AccountGetAvailableReplContinents {\n    replContinents {\n      __typename\n      ... on ReplContinentsOutput {\n        continents {\n          id\n          name\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return N=function(){return e},e}var V={},z=(0,M.Ps)(R()),L=(0,M.Ps)(_(),z);var j=(0,M.Ps)(A());var q=(0,M.Ps)(E());var O=(0,M.Ps)(W(),z);var Y=(0,M.Ps)(N());function $(){var e=(0,D.Z)(["\n  fragment AccountEmailSettingsCurrentUser on CurrentUser {\n    id\n    emailNotifications\n    marketingNotifications\n  }\n"]);return $=function(){return e},e}function F(){var e=(0,D.Z)(["\n  mutation AccountEmailSettingsUpdate($input: UpdateCurrentUserInput!) {\n    updateCurrentUser(input: $input) {\n      id\n      ...AccountEmailSettingsCurrentUser\n    }\n  }\n  ","\n"]);return F=function(){return e},e}var H={},Q=(0,M.Ps)($()),K=(0,M.Ps)(F(),Q);var J=t(79824);function ee(e){var n=e.children;return"string"!==typeof n?null:(0,i.tZ)(b.G,{css:[B.l0.align.start],children:(0,i.tZ)(v.E,{icon:(0,i.tZ)(J.Z,{}),colorway:"negative",text:n,css:[B.l0.pr(8)]})})}function ne(e){var n=e.currentUser,t=(0,o.Z)(I.useState(!1),2),r=t[0],s=t[1],c=(0,o.Z)(I.useState(!1),2),m=c[0],f=c[1],g=(0,o.Z)(I.useState(null),2),y=g[0],C=g[1],G=(0,u.Y)("",d.Z.email),S=(0,u.Y)("",d.Z.password),T=(0,o.Z)(function(e){var n=(0,P.Z)({},V,e);return k.D(L,n)}({onError:function(){return C("Something went wrong, try reloading the page and try again")},onCompleted:function(e){var n;"UserError"===(null===(n=e.updateEmail)||void 0===n?void 0:n.__typename)?C(e.updateEmail.message):(s(!1),f(!0),S.setValue(""))}}),2),D=T[0],M=T[1].loading,X=function(){var e=(0,l.Z)((function(e){var n,t;return(0,a.__generator)(this,(function(r){switch(r.label){case 0:return e.preventDefault(),G.value&&S.value||C("Please fill in all fields"),[4,G.validate()];case 1:return(null===(n=r.sent())||void 0===n?void 0:n.message)?(C(null===n||void 0===n?void 0:n.message),[2]):[4,S.validate()];case 2:return(null===(t=r.sent())||void 0===t?void 0:t.message)?(C(null===t||void 0===t?void 0:t.message),[2]):(D({variables:{email:G.value,password:S.value}}),[2])}}))}));return function(n){return e.apply(this,arguments)}}();return r?(0,i.tZ)("form",{onSubmit:X,children:(0,i.BX)(b.G,{css:[B.l0.colWithGap(16)],children:[(0,i.tZ)(Z.h4,{level:2,css:[B.l0.fontWeight.medium],children:"Update your email"}),(0,i.BX)(b.G,{css:[B.l0.rowWithGap(16)],children:[(0,i.BX)(b.G,{css:[B.l0.flex.column,{width:"calc(50% - 8px)"}],children:[(0,i.tZ)("label",{htmlFor:"newEmail",children:(0,i.tZ)(Z.xv,{color:"dimmer",variant:"small",multiline:!1,children:"New email"})}),(0,i.tZ)(p.II,{id:"newEmail",placeholder:"your@email.com",onChange:function(e){return G.setValue(e.target.value)},value:G.value})]}),(0,i.BX)(b.G,{css:[B.l0.flex.column,{width:"calc(50% - 8px)"}],children:[(0,i.tZ)("label",{htmlFor:"passwordConfirmation",children:(0,i.tZ)(Z.xv,{color:"dimmer",variant:"small",multiline:!1,children:"Password confirmation"})}),(0,i.tZ)(p.II,{id:"passwordConfirmation",type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",onChange:function(e){return S.setValue(e.target.value)},value:S.value})]})]}),y?(0,i.tZ)(ee,{children:y}):null,(0,i.BX)(b.G,{css:[B.l0.rowWithGap(12),B.l0.justify.end],children:[(0,i.tZ)(h.zx,{onClick:function(){return s(!1)},text:"Cancel"}),(0,i.tZ)(h.zx,{disabled:M,colorway:"primary",type:"submit",text:M?"Updating...":"Update",iconLeft:(0,i.tZ)(x.Z,{})})]})]})}):(0,i.BX)(b.G,{css:[B.l0.colWithGap(8)],children:[(0,i.BX)(b.G,{css:[B.l0.flex.row,B.l0.justify.spaceBetween],children:[(0,i.BX)(b.G,{css:[B.l0.colWithGap(4)],children:[(0,i.tZ)(Z.xv,{css:[B.l0.fontWeight.medium],children:"Your email"}),(0,i.tZ)(Z.xv,{children:n.email})]}),(0,i.tZ)(h.zx,{variant:"outlined",onClick:function(){return s(!0)},text:"Edit",iconLeft:(0,i.tZ)(w.Z,{})})]}),m?(0,i.tZ)(v.E,{colorway:"positive",icon:(0,i.tZ)(x.Z,{}),text:"Visit the verification link sent to ".concat(G.value," to complete your email change.")}):null,m||n.isVerified?null:(0,i.tZ)(v.E,{colorway:"negative",icon:(0,i.tZ)(U.Z,{}),text:"Your email is unverified! Click on the link we sent you to fix this."})]})}function te(){var e=(0,o.Z)(I.useState(!1),2),n=e[0],t=e[1],r=(0,o.Z)(I.useState(!1),2),l=r[0],a=r[1],s=(0,o.Z)(I.useState(null),2),c=s[0],d=s[1],m=(0,u.Y)("",(function(e){if(e.length<0)return{message:"Must include password"}})),f=(0,u.Y)("",(function(e){if(e.length<0)return{message:"Must include password"}})),g=(0,o.Z)(function(e){var n=(0,P.Z)({},V,e);return k.D(j,n)}({onError:function(){return d("Something went wrong")},onCompleted:function(e){var n;"UserError"===(null===(n=e.updatePassword)||void 0===n?void 0:n.__typename)?d(e.updatePassword.message):(d(null),t(!1),a(!0),f.setValue(""),m.setValue(""))}}),2),y=g[0],C=g[1].loading;return n?(0,i.tZ)("form",{onSubmit:function(e){e.preventDefault(),y({variables:{newPassword:m.value,currentPassword:f.value}})},children:(0,i.BX)(b.G,{css:[B.l0.colWithGap(16)],children:[(0,i.tZ)(Z.h4,{level:2,css:[B.l0.fontWeight.medium],children:"Update your password"}),(0,i.BX)(b.G,{css:[B.l0.rowWithGap(16)],children:[(0,i.BX)(b.G,{css:[B.l0.flex.column,{width:"calc(50% - 8px)"}],children:[(0,i.tZ)("label",{htmlFor:"currentPassword",children:(0,i.tZ)(Z.xv,{color:"dimmer",variant:"small",multiline:!1,children:"Current password"})}),(0,i.tZ)(p.II,{id:"currentPassword",type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",onChange:function(e){return f.setValue(e.target.value)},value:f.value})]}),(0,i.BX)(b.G,{css:[B.l0.flex.column,{width:"calc(50% - 8px)"}],children:[(0,i.tZ)("label",{htmlFor:"newPassword",children:(0,i.tZ)(Z.xv,{color:"dimmer",variant:"small",multiline:!1,children:"New password"})}),(0,i.tZ)(p.II,{id:"newPassword",type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",onChange:function(e){return m.setValue(e.target.value)},value:m.value})]})]}),c?(0,i.tZ)(ee,{children:c}):null,(0,i.BX)(b.G,{css:[B.l0.rowWithGap(12),B.l0.justify.end],children:[(0,i.tZ)(h.zx,{onClick:function(){return t(!1)},text:"Cancel"}),(0,i.tZ)(h.zx,{disabled:C,colorway:"primary",type:"submit",text:C?"Updating...":"Update",iconLeft:(0,i.tZ)(x.Z,{})})]})]})}):(0,i.BX)(b.G,{css:[B.l0.colWithGap(8)],children:[(0,i.BX)(b.G,{css:[B.l0.flex.row,B.l0.justify.spaceBetween],children:[(0,i.BX)(b.G,{css:[B.l0.colWithGap(4)],children:[(0,i.tZ)(Z.xv,{css:[B.l0.fontWeight.medium],children:"Your password"}),(0,i.tZ)(Z.xv,{children:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"})]}),(0,i.tZ)(h.zx,{variant:"outlined",onClick:function(){return t(!0)},text:"Edit",iconLeft:(0,i.tZ)(w.Z,{})})]}),l?(0,i.tZ)(v.E,{colorway:"positive",icon:(0,i.tZ)(x.Z,{}),text:"Password updated"}):null]})}function re(e){var n,t,l,a,s=e.currentUser,c=(n={},(0,r.Z)(n,T.aG.Na,"North America"),(0,r.Z)(n,T.aG.Asia,"Asia"),n),u=(t={},(0,r.Z)(t,T.aG.Na,"Servers located throughout the continental United States"),(0,r.Z)(t,T.aG.Asia,"Servers located in Mumbai, India"),t),d=(0,o.Z)(I.useState(!1),2),p=d[0],m=d[1],g=(0,o.Z)(I.useState(!1),2),U=g[0],G=g[1],S=(0,o.Z)(I.useState(null),2),D=S[0],M=S[1],R=function(e){var n=(0,P.Z)({},V,e);return X.a(Y,n)}({}).data,_="ReplContinentsOutput"===(null===R||void 0===R?void 0:R.replContinents.__typename)?R.replContinents.continents:[],A=_.map((function(e){return{value:e.id,title:c[e.id],subtitle:u[e.id],name:e.name,taller:!0}})),E=s.replContinent,W=A.find((function(e){return e.value===E.id})),N=(0,o.Z)(I.useState(null!==(l=E.id)&&void 0!==l?l:T.aG.Na),2),z=N[0],L=N[1],j=(0,o.Z)(function(e){var n=(0,P.Z)({},V,e);return k.D(O,n)}({onError:function(){M("Something went wrong")},onCompleted:function(e){var n;if("CurrentUser"===(null===(n=e.selectReplContinent)||void 0===n?void 0:n.__typename))M(null),m(!1),G(!0);else{var t=e.selectReplContinent;M(t.message)}}}),2),q=j[0],$=j[1].loading,F=(0,i.BX)(b.G,{css:[B.l0.rowWithGap(8),B.l0.align.center],children:[(0,i.tZ)(Z.xv,{css:[B.l0.fontWeight.medium],children:"Your server location"}),(0,i.tZ)(y.u,{tooltip:"".concat("Where the servers running your Repls will be located. Select a server location closest to you for the best possible experience."),children:(0,i.tZ)(C.Z,{color:B.TV.foregroundDimmer})})]});return p?(0,i.tZ)("form",{onSubmit:function(e){var n;e.preventDefault();var t=null===(n=_.find((function(e){return e.id===z})))||void 0===n?void 0:n.id;q({variables:{input:{continent:t}}})},children:(0,i.BX)(b.G,{css:[B.l0.colWithGap(16)],children:[F,(0,i.tZ)(b.G,{css:[B.l0.rowWithGap(16)],children:(0,i.tZ)(b.G,{css:[B.l0.colWithGap(4),{width:"calc(100% - 8px)"}],children:(0,i.tZ)(f.P,{placeholder:"Select your server location",initialSelectedItem:W,items:A,onChange:function(e){return L(e.value)}})})}),D?(0,i.tZ)(ee,{children:D}):null,(0,i.BX)(b.G,{css:[B.l0.rowWithGap(12),B.l0.justify.end],children:[(0,i.tZ)(h.zx,{onClick:function(){return m(!1)},text:"Cancel"}),(0,i.tZ)(h.zx,{disabled:$,colorway:"primary",type:"submit",text:$?"Updating...":"Update",iconLeft:(0,i.tZ)(x.Z,{})})]})]})}):(0,i.BX)(b.G,{css:[B.l0.colWithGap(8)],children:[(0,i.BX)(b.G,{css:[B.l0.flex.row,B.l0.justify.spaceBetween,B.l0.align.center],children:[(0,i.BX)(b.G,{css:[B.l0.colWithGap(4)],children:[F,(0,i.tZ)(Z.xv,{children:null!==(a=null===W||void 0===W?void 0:W.title)&&void 0!==a?a:"..."})]}),(0,i.tZ)(h.zx,{variant:"outlined",onClick:function(){return m(!0)},text:"Edit",iconLeft:(0,i.tZ)(w.Z,{})})]}),U?(0,i.tZ)(v.E,{colorway:"positive",icon:(0,i.tZ)(x.Z,{}),text:"Server location updated"}):null]})}function oe(){var e=(0,o.Z)(I.useState(!1),2),n=e[0],t=e[1],r=(0,o.Z)(I.useState(null),2),c=r[0],u=r[1],d=(0,o.Z)(function(e){var n=(0,P.Z)({},V,e);return k.D(q,n)}({onError:function(){return u("Something went wrong")},onCompleted:(0,l.Z)((function(){return(0,a.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,s.w7)()];case 1:return e.sent(),window.location.href="/logout",[2]}}))}))}),2),p=d[0],f=d[1].loading;return(0,i.BX)(b.G,{css:[B.l0.colWithGap(16)],children:[(0,i.BX)(b.G,{css:[B.l0.flex.column],children:[(0,i.tZ)(Z.xv,{css:[B.l0.fontWeight.medium],children:"Danger Zone"}),(0,i.tZ)(Z.xv,{color:"dimmer",children:"Irreversible and destructive actions"})]}),(0,i.tZ)(h.zx,{onClick:function(){return t(!0)},colorway:"negative",variant:"outlined",text:"Request account deletion",css:{alignSelf:"flex-start"},iconLeft:(0,i.tZ)(G.Z,{})}),c?(0,i.tZ)(ee,{children:c}):null,(0,i.tZ)(m.u,{isOpen:n,onRequestClose:function(){return t(!1)},children:(0,i.BX)(b.G,{css:[B.l0.colWithGap(24)],children:[(0,i.tZ)(Z.h4,{variant:"headerDefault",level:2,children:"Delete Account"}),(0,i.tZ)(Z.xv,{children:"All your hosted Repls and content will be taken down within 24 hours. This cannot be undone."}),(0,i.BX)(b.G,{css:[B.l0.rowWithGap(12),B.l0.justify.end],children:[(0,i.tZ)(h.zx,{text:"Cancel",disabled:f,onClick:function(){return t(!1)}}),(0,i.tZ)(h.zx,{iconLeft:(0,i.tZ)(G.Z,{}),onClick:function(){return p()},text:"Yes, Delete my Account",colorway:"negative"})]})]})})]})}function ie(e){var n=e.currentUser,t=(0,o.Z)(I.useState(null),2),r=t[0],l=t[1],a=(0,o.Z)(function(e){var n=(0,P.Z)({},H,e);return k.D(K,n)}({onError:function(){return l("Something went wrong")},onCompleted:function(){return l(null)}}),2),s=a[0],c=a[1].loading;return(0,i.BX)(S.gC,{spacing:2,align:"stretch",children:[(0,i.BX)(S.Ug,{spacing:1,align:"center",justify:"space-between",children:[(0,i.BX)(b.G,{css:[B.l0.rowWithGap(4),B.l0.align.center],children:[(0,i.tZ)(Z.xv,{color:"default",css:[B.l0.fontWeight.medium],children:"Receive transactional notifications via email"}),(0,i.tZ)(y.u,{tooltip:"Transactional emails can be important notifications about your deployment status, bounties chat updates, balance-related reminders, and other product-related communication that can improve the product experience.",children:(0,i.tZ)(C.Z,{color:B.TV.foregroundDimmer})})]}),(0,i.tZ)(g.r,{isSelected:n.emailNotifications,onChange:function(){c||s({variables:{input:{emailNotifications:!n.emailNotifications}}})},"aria-labelledby":"receive-email-product-notifications"})]}),(0,i.BX)(S.Ug,{spacing:1,align:"center",justify:"space-between",children:[(0,i.BX)(b.G,{css:[B.l0.rowWithGap(4),B.l0.align.center],children:[(0,i.tZ)(Z.xv,{color:"default",css:[B.l0.fontWeight.medium],children:"Receive marketing notifications"}),(0,i.tZ)(y.u,{tooltip:"Marketing emails can be about new features, products, and other updates we think can be interesting for you to know. This preference can take up to 24 hours to update.",children:(0,i.tZ)(C.Z,{color:B.TV.foregroundDimmer})})]}),(0,i.tZ)(g.r,{isSelected:n.marketingNotifications,onChange:function(){c||s({variables:{input:{marketingNotifications:!n.marketingNotifications}}})},"aria-labelledby":"receive-marketing-notifications"})]}),r?(0,i.tZ)(ee,{children:r}):null]})}function le(e){var n=e.currentUser,t=(0,c.P5)({controlName:"select-geo-continent",logFlagToAnalytics:!1});return(0,i.BX)(b.G,{css:[B.l0.colWithGap(24)],children:[(0,i.tZ)(ne,{currentUser:n}),(0,i.tZ)(te,{}),t?(0,i.tZ)(re,{currentUser:n}):null,(0,i.tZ)(ie,{currentUser:n}),(0,i.tZ)(b.G,{css:[B.l0.width("100%"),B.l0.height(1),B.l0.backgroundColor.outlineDimmest]}),(0,i.tZ)(oe,{})]})}var ae=t(61025),se=(0,ae.X)({container:[B.l0.colWithGap(24)],row:[B.l0.flex.row,B.l0.justify.spaceBetween],cell:[B.l0.colWithGap(4)],label:[B.l0.fontWeight.medium]});function ce(e){var n=e.currentUser;return(0,i.tZ)(b.G,{css:se.container,children:(0,i.tZ)(b.G,{css:se.row,children:(0,i.BX)(b.G,{css:se.cell,children:[(0,i.tZ)(Z.xv,{css:se.label,children:"Your email"}),(0,i.tZ)(Z.xv,{children:n.email})]})})})}var ue=t(22652),de=t(92369),he=t(90114),pe=t(80890),me=t(42919),fe=t(37268),ve=(0,ae.X)({container:[B.l0.colWithGap(24)],planSectionContainer:[B.l0.colWithGap(12)],cyclesButton:[B.l0.width("fit-content")],paymentSectionContainer:[B.l0.colWithGap(12),B.l0.width("100%")],paymentDetailsContainer:[B.l0.borderRadius(8),B.l0.p(16)],sectionDivider:[B.l0.width("100%"),B.l0.height(1),B.l0.backgroundColor.outlineDimmest]});function ge(e){var n,t,r=e.currentUser,o=(null===r||void 0===r||null===(n=r.billingInfo)||void 0===n||null===(t=n.planInfo)||void 0===t?void 0:t.provider)===T.Cs.Apple?"Cycles payment details":"Payment details";return(0,i.BX)(b.G,{css:ve.container,children:[(0,i.BX)(b.G,{css:ve.planSectionContainer,children:[(0,i.tZ)(Z.xv,{variant:"subheadDefault",children:"Your Plan"}),(0,i.tZ)(Ze,{currentUser:r}),(0,i.tZ)(de.Z,{href:"/cycles",variant:"outlined",text:"See your Cycles purchases and usage",iconLeft:(0,i.tZ)(he.Z,{}),css:ve.cyclesButton})]}),(0,i.tZ)(b.G,{css:ve.sectionDivider}),(0,i.BX)(b.G,{css:ve.paymentSectionContainer,children:[(0,i.tZ)(Z.xv,{variant:"subheadDefault",multiline:!1,children:o}),(0,i.tZ)(fe.Tg,{elevated:!0,css:ve.paymentDetailsContainer,children:(0,i.tZ)(ue.S,{})})]})]})}function Ze(e){var n=e.currentUser,t=n.billingInfo,r=n.customer,o=null===t||void 0===t?void 0:t.planInfo,l=null===o||void 0===o?void 0:o.provider,a=(null===o||void 0===o?void 0:o.nextPaymentDue)?new Date(o.nextPaymentDue):null,s=(null===o||void 0===o?void 0:o.cancelAt)?new Date(o.cancelAt):null,c=(null===t||void 0===t?void 0:t.expiration)?new Date(t.expiration):null,u=null===o||void 0===o?void 0:o.coupon,d=(null===u||void 0===u?void 0:u.endAt)?new Date(u.endAt):void 0,h="",p=d?"until "+d.toDateString():"forever";u&&u.amount?h="Your plan is discounted by $".concat((u.amount/100).toFixed(2)," ").concat(p,"."):u&&u.percent&&(h="Your plan is discounted by ".concat(u.percent,"% ").concat(p,"."));var m=new Date,f=!!c&&m>c,g="You'll retain your ".concat(t?"paid ":"","benefits ")+(c?"until "+c.toDateString():"for a very long time.");return l!==T.Cs.Apple&&l!==T.Cs.Google||!o?(0,i.BX)(i.HY,{children:[f||a||!o?null:(0,i.tZ)(Z.xv,{variant:"small",multiline:!1,children:g}),s?(0,i.tZ)(v.E,{icon:(0,i.tZ)(J.Z,{}),colorway:"warning",text:"Your plan will be automatically canceled on ".concat(s.toDateString(),". Boosted or Always On Repls in your plan's quota will automatically be un-Boosted or set to no longer be Always On. Repls Boosted or Always On through Cycles will remain unaffected.")}):null,u?(0,i.tZ)(v.E,{icon:(0,i.tZ)(pe.Z,{}),colorway:"positive",text:h}):null,!f&&o?(0,i.BX)(b.G,{children:[(0,i.BX)(b.G,{css:[B.l0.rowWithGap(4)],children:[(0,i.tZ)(Z.xv,{color:"dimmer",multiline:!1,children:"Plan:"}),(0,i.tZ)(Z.xv,{color:"default",multiline:!1,children:o.description})]}),f?(0,i.BX)(b.G,{css:[B.l0.rowWithGap(4)],children:[(0,i.BX)(Z.xv,{color:"dimmer",multiline:!1,children:["Plan:"," "]}),(0,i.tZ)(Z.xv,{multiline:!1,children:"Inactive"})]}):null]}):null,!f&&a?(0,i.BX)(b.G,{css:[B.l0.rowWithGap(4)],children:[(0,i.tZ)(Z.xv,{color:"dimmer",multiline:!1,children:"Next Payment Due:"}),(0,i.tZ)(Z.xv,{multiline:!1,children:a.toDateString()})]}):null,(null===o||void 0===o?void 0:o.amount)?(0,i.BX)(b.G,{css:[B.l0.rowWithGap(4)],children:[(0,i.tZ)(Z.xv,{color:"dimmer",multiline:!1,children:"Amount:"}),(0,i.BX)(Z.xv,{multiline:!1,children:["$",o.amount/100," per ",o.interval]})]}):null,f||a||!c?null:(0,i.BX)(b.G,{css:[B.l0.rowWithGap(4)],children:[(0,i.tZ)(Z.xv,{color:"dimmer",multiline:!1,children:"Expiration:"}),(0,i.tZ)(Z.xv,{multiline:!1,children:c.toDateString()})]}),(null===r||void 0===r?void 0:r.stripeCustomerId)?(0,i.tZ)(i.HY,{children:(0,i.BX)(Z.xv,{children:["To update your subscription payment method, cancel subscription, or view invoices, ",(0,i.tZ)("a",{href:"/stripe-customer-portal",children:"click here"}),"."]})}):(0,i.tZ)(Z.xv,{multiline:!1,children:"No billing information"})]}):(0,i.tZ)(me.Z,{planName:o.description,provider:l})}var ye=t(43182),be=t(61004),xe=t(68912),we=t(73823),Ce=t(70232),Ue=t(2373);function Ge(){var e=(0,D.Z)(["\n  fragment AccountConnectedServicesCurrentUser on CurrentUser {\n    id\n    githubAuth: auth(provider: GITHUB) {\n      provider\n    }\n    googleAuth: auth(provider: GOOGLE) {\n      provider\n    }\n    facebookAuth: auth(provider: FACEBOOK) {\n      provider\n    }\n    appleAuth: auth(provider: APPLE) {\n      provider\n    }\n  }\n"]);return Ge=function(){return e},e}function Be(){var e=(0,D.Z)(["\n  query AccountConnectedServices {\n    currentUser {\n      id\n      ...AccountConnectedServicesCurrentUser\n    }\n  }\n  ","\n"]);return Be=function(){return e},e}function Se(){var e=(0,D.Z)(["\n  mutation AccountConnectedServicesDisconnectAuthProvider(\n    $provider: UserAuthProviders!\n  ) {\n    disconnectAuthProvider(provider: $provider) {\n      id\n      ...AccountConnectedServicesCurrentUser\n    }\n  }\n  ","\n"]);return Se=function(){return e},e}var Te={},Ie=(0,M.Ps)(Ge());Be();var Pe=(0,M.Ps)(Se(),Ie);var De=function(e){switch(e){case T.x9.Apple:return"apple.com";case T.x9.Facebook:return"facebook.com";case T.x9.Github:return"github.com";case T.x9.Google:return"google.com";default:(0,Ce.Z)(e)}};function Me(e){var n,t=e.currentUser,r=(0,be.L)().user,c=null!==(n=null===r||void 0===r?void 0:r.providerData)&&void 0!==n?n:[],u=(0,o.Z)(I.useState(null),2),d=u[0],p=u[1],f=(0,o.Z)(I.useState(null),2),v=f[0],g=f[1],y=(0,o.Z)(function(e){var n=(0,P.Z)({},Te,e);return k.D(Pe,n)}({onError:function(){return p("Something went wrong")},onCompleted:(0,l.Z)((function(){return(0,a.__generator)(this,(function(e){return[2,p(null)]}))}))}),2),x=y[0],w=y[1],C=function(){var e=(0,l.Z)((function(e){var n,t;return(0,a.__generator)(this,(function(o){switch(o.label){case 0:return r?[3,1]:(ye.Tb(new Error("Tried to connect OAuth provider without SDK user")),p("Please log out and log back in to connect external services. We're sorry for the inconvenience."),[2]);case 1:return n=De(e),[4,(0,s.Ps)(r,n)];case 2:if("error"===(t=o.sent()).type)if("provider-exists"===t.treatment)p("This provider is already linked to your account.");else p("Something unexpected happened. Please try again.");o.label=3;case 3:return[2]}}))}));return function(n){return e.apply(this,arguments)}}(),U=function(){var e=(0,l.Z)((function(e){var n,t,o,i;return(0,a.__generator)(this,(function(l){switch(l.label){case 0:return n=e.provider,t=e.name,r?[3,1]:(ye.Tb(new Error("Received OAuth disconnect request without SDK user")),[3,3]);case 1:return o=De(n),[4,(0,s.xV)(r,o)];case 2:if("error"===(i=l.sent()).type)switch(i.treatment){case"provider-not-linked":p("".concat(t," isn't linked to your account."));break;case"unhandled":case"unknown":p("Something unexpected happened when attempting to remove this provider. Please try again.");break;default:(0,Ce.Z)(i)}l.label=3;case 3:return x({variables:{provider:n.toUpperCase()}}),g(null),[2]}}))}));return function(n){return e.apply(this,arguments)}}();return I.useEffect((function(){(0,s.WT)().then(function(){var e=(0,l.Z)((function(e){return(0,a.__generator)(this,(function(n){if("success"===e.type)return[2];switch(e.treatment){case"credential-conflict":p("This provider cannot be used, please try another method.");break;case"email-conflict":p("This email cannot be used, please try another method.");break;case"forbidden-operation":p("That action is not permitted");break;case"user-needs-email":p("Adding this provider failed because it doesn't have an associated email address.");break;case"requires-provider-link":case"timeout":case"unhandled":case"unknown":p("Something unexpected happened, please try again.");break;default:(0,Ce.Z)(e)}return[2]}))}));return function(n){return e.apply(this,arguments)}}()).catch((function(e){return ye.Tb(e)}))}),[]),(0,i.BX)(b.G,{css:[B.l0.colWithGap(16)],children:[[{name:"GitHub",provider:T.x9.Github,isConnected:t.githubAuth},{name:"Google",provider:T.x9.Google,isConnected:t.googleAuth},{name:"Facebook",provider:T.x9.Facebook,isConnected:t.facebookAuth},{name:"Apple",provider:T.x9.Apple,isConnected:t.appleAuth}].map((function(e){var n=e.name,t=e.provider,r=e.isConnected,o=De(t),l=c.find((function(e){return e.providerId===o})),a=null!==r&&void 0!==r?r:void 0!==l;return(0,i.BX)(b.G,{css:[B.l0.flex.row,B.l0.justify.spaceBetween,B.l0.align.center],children:[(0,i.tZ)(Z.xv,{color:a?"default":"dimmest",css:[B.l0.fontWeight.medium],children:n}),(0,i.tZ)("div",{children:a?(0,i.tZ)(h.zx,{onClick:function(){return g({name:n,provider:t})},text:"Disconnect",variant:"outlined",disabled:w.loading,iconLeft:(0,i.tZ)(xe.Z,{})}):(0,i.tZ)(h.zx,{onClick:function(){return C(t)},text:"Connect",iconLeft:(0,i.tZ)(we.Z,{})})})]},t)})),d?(0,i.tZ)(ee,{children:d}):null,(0,i.tZ)(m.u,{isOpen:null!==v,onRequestClose:function(){return g(null)},children:v?(0,i.tZ)(Ue.Z,{confirmLabel:"Yes, disconnect this service",isDestructive:!0,title:"Disconnect ".concat(v.name),onCancel:function(){return g(null)},onConfirm:function(){return U(v)},children:"Are you sure you want to disconnect this service? You can reconnect it at any time."}):null})]})}var ke=t(4405),Xe=t(48306),Re=t.n(Xe),_e=t(95161),Ae=t(92470);function Ee(){var e=(0,D.Z)(["\n  fragment AccountProfileCurrentUser on CurrentUser {\n    id\n    username\n    canChangeUsername\n    firstName\n    lastName\n    bio\n    hasPrivacyRole\n    hasProfileImage\n    image\n    isSubscribed\n    url\n  }\n"]);return Ee=function(){return e},e}function We(){var e=(0,D.Z)(["\n  mutation AccountProfileCurrentUserUpdate($input: UpdateCurrentUserInput!) {\n    updateCurrentUser(input: $input) {\n      id\n      ...AccountProfileCurrentUser\n    }\n  }\n  ","\n"]);return We=function(){return e},e}var Ne={},Ve=(0,M.Ps)(Ee()),ze=(0,M.Ps)(We(),Ve);var Le=t(97846),je=t(82893),qe=t.n(je),Oe=t(40176),Ye=t(91148),$e=t(53570),Fe=t(92585),He=t(13138),Qe=t(94979),Ke=t(27773),Je=(0,ae.X)({ruiInput:[B.l0.height(32),{fontSize:"".concat(B.TV.fontSizeDefault," !important"),backgroundColor:"".concat(B.TV.backgroundDefault," !important"),transition:"borderColor 120ms ease-out !important","&":{borderRadius:"".concat(B.TV.space8," !important")},"&:hover":{borderColor:"".concat(B.TV.outlineDefault," !important"),transitionDuration:"0ms !important"},"&:focus":{outline:"2px solid ".concat(B.TV.accentPrimaryDefault," !important")}}]}),en=140,nn=250;function tn(e){var n=e.currentUser,t=(0,o.Z)(I.useState(null),2),s=t[0],c=t[1],d=(0,o.Z)(I.useState(!1),2),p=d[0],f=d[1],v=I.useRef(n.bio),g=(0,o.Z)(function(e){var n=(0,P.Z)({},Ne,e);return k.D(ze,n)}({onError:function(){return c("Something went wrong")},onCompleted:function(){return c(null)}}),2),Z=g[0],y=g[1].loading,w=(0,u.Y)(n.firstName||"",(function(e){if(e.length>nn)return{message:"First name must be less than ".concat(nn," characters.")}})),C=(0,u.Y)(n.lastName||"",(function(e){if(e.length>nn)return{message:"Last name must be less than ".concat(nn," characters.")}})),U=(0,u.Y)(n.bio||"",(function(e){if(e.length>en)return{message:"Bio name must be less than ".concat(en," characters.")}})),T=function(){var e=(0,l.Z)((function(e){var n;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return e.preventDefault(),n={firstName:w.value,lastName:C.value,bio:U.value},[4,Z({variables:{input:n}})];case 1:return t.sent(),v.current!==U.value&&((0,He.w)({source:"profile",surface:"bio"}),v.current=U.value),[2]}}))}));return function(n){return e.apply(this,arguments)}}();return(0,i.BX)("div",{className:Re().dynamic([["9822e620920cc65b",[Ye.j.mobileMax]]]),children:[(0,i.BX)("div",{className:Re().dynamic([["9822e620920cc65b",[Ye.j.mobileMax]]])+" profile",children:[(0,i.tZ)("div",{className:Re().dynamic([["9822e620920cc65b",[Ye.j.mobileMax]]])+" profile-image",children:(0,i.BX)(b.G,{css:[B.l0.colWithGap(8),B.l0.width(128)],children:[(0,i.tZ)($e.Z,{currentUser:n,onChange:function(e){var n=e.imageId;return Z({variables:{input:{profileImageId:n}}})}}),n.hasProfileImage?(0,i.tZ)(h.zx,{iconLeft:(0,i.tZ)(G.Z,{}),text:"Remove photo",size:"small",variant:"outlined",onClick:function(){return f(!0)}}):null]})}),(0,i.tZ)("div",{className:Re().dynamic([["9822e620920cc65b",[Ye.j.mobileMax]]])+" profile-info",children:(0,i.tZ)(S.gC,{wrap:"nowrap",spacing:4,align:"stretch",children:(0,i.tZ)("form",{onSubmit:T,className:Re().dynamic([["9822e620920cc65b",[Ye.j.mobileMax]]]),children:(0,i.BX)(S.gC,{wrap:"nowrap",spacing:4,align:"stretch",children:[(0,i.tZ)(S.gC,{wrap:"nowrap",align:"end",children:(0,i.tZ)(_e.ZP,{style:{cursor:"not-allowed",border:"none"},css:Je.ruiInput,disabled:!0,description:n.canChangeUsername?(0,i.BX)(i.HY,{children:["* You can change your username"," ",(0,i.tZ)(qe(),{legacyBehavior:!0,href:"/~/cli/account/change-username",children:"through the CLI"})," ","once"]}):"* You cannot change your username",value:n.username})}),(0,i.BX)(S.gC,{wrap:"nowrap",align:"stretch",spacing:2,children:[(0,i.BX)(S.Ug,{spacing:2,wrap:"nowrap",children:[(0,i.tZ)(_e.ZP,{css:Je.ruiInput,label:"First name",onChange:function(e){return w.setValue(e.target.value)},value:w.value,validationResults:w.error?[{message:w.error.message,state:"error"}]:void 0}),(0,i.tZ)(_e.ZP,{css:Je.ruiInput,label:"Last name",onChange:function(e){return C.setValue(e.target.value)},value:C.value,validationResults:C.error?[{message:C.error.message,state:"error"}]:void 0})]}),(0,i.BX)("div",{className:Re().dynamic([["9822e620920cc65b",[Ye.j.mobileMax]]]),children:[(0,i.tZ)(Le.Z,{tag:"label",foreground:2,size:"xsmall",children:"Bio"}),(0,i.tZ)("textarea",{css:Je.ruiInput,maxLength:en,value:U.value,onChange:function(e){return U.setValue(e.target.value)},placeholder:"Add a bio",className:Re().dynamic([["9822e620920cc65b",[Ye.j.mobileMax]]])}),(0,i.BX)(Le.Z,{size:"xsmall",foreground:3,children:["* ",U.value.length," / ",en," characters"]})]})]}),s?(0,i.tZ)(ee,{children:s}):null,(0,i.BX)(b.G,{css:[B.l0.flex.row,B.l0.justify.end,(0,r.Z)({gap:12},B.BC.max("mobileMax"),[B.l0.flex.column,{gap:8}])],children:[(0,i.tZ)(de.Z,(0,ke.Z)((0,P.Z)({},(0,Ae.Ru)({username:n.username,id:n.id,url:n.url})),{iconLeft:(0,i.tZ)(Oe.Z,{}),text:"View my public profile"})),(0,i.tZ)(h.zx,{disabled:y,colorway:"primary",type:"submit",iconLeft:y?(0,i.tZ)(Ke.Z,{}):(0,i.tZ)(x.Z,{}),text:"Save Changes",css:[y?Qe.p.backgroundPulse(B.TV.accentPrimaryDimmest,B.TV.accentPrimaryDimmer):null]})]})]})})})})]}),(0,i.tZ)(m.u,{isOpen:p,onRequestClose:function(){return f(!1)},children:(0,i.tZ)(Fe.Z,{name:"profile photo",entityType:"photo",delete:function(){Z({variables:{input:{profileImageId:null}}})},hideModal:function(){return f(!1)}})}),(0,i.tZ)(Re(),{id:"9822e620920cc65b",dynamic:[Ye.j.mobileMax],children:".profile-image.__jsx-style-dynamic-selector{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;padding-bottom:var(--space-16)}.profile-info.__jsx-style-dynamic-selector{-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}@media screen and (min-width:".concat(Ye.j.mobileMax,"px){.profile.__jsx-style-dynamic-selector{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.profile-image.__jsx-style-dynamic-selector{padding-right:var(--space-16);width:-webkit-calc(128px + var(--space-16));width:-moz-calc(128px + var(--space-16));width:calc(128px + var(--space-16));padding-bottom:0}}.error.__jsx-style-dynamic-selector{padding:var(--space-8)0;color:var(--accent-negative-default)}textarea.__jsx-style-dynamic-selector{margin:var(--space-4)0;min-height:42px;height:100px;resize:none;font-size:var(--font-size-subhead-default);font-family:var(--font-family-default);padding:var(--space-8);display:block;width:100%;-webkit-border-radius:var(--border-radius-4);-moz-border-radius:var(--border-radius-4);border-radius:var(--border-radius-4);border:1px solid var(--outline-dimmest);-webkit-transition:.1s box-shadow;-moz-transition:.1s box-shadow;-o-transition:.1s box-shadow;transition:.1s box-shadow;background-color:transparent;color:var(--foreground-default)}textarea.__jsx-style-dynamic-selector:hover{border:1px solid var(--accent-primary-dimmer)}textarea.__jsx-style-dynamic-selector:focus,textarea.__jsx-style-dynamic-selector:active{outline:none;border-color:var(--accent-primary-default)}")})]})}var rn=t(9766),on=t(59751);function ln(){var e=(0,D.Z)(["\n  fragment ReplIdentityCurrentUser on CurrentUser {\n    id\n    hasReplitIdentityTesting: hasRole(role: REPLIT_IDENTITY_TESTING)\n  }\n"]);return ln=function(){return e},e}function an(){var e=(0,D.Z)(["\n  query ReplIdentity {\n    allowedReplIdentityRepls {\n      ... on AllowedReplIdentityReplsOutput {\n        repls {\n          ... on Repl {\n            id\n            title\n            iconUrl\n          }\n        }\n      }\n    }\n  }\n"]);return an=function(){return e},e}function sn(){var e=(0,D.Z)(["\n  mutation AddReplIdentityAllowedRepl(\n    $input: AddReplIdentityAllowedReplInput!\n  ) {\n    addReplIdentityAllowedRepl(input: $input) {\n      ... on Repl {\n        id\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return sn=function(){return e},e}function cn(){var e=(0,D.Z)(["\n  mutation DeleteReplIdentityAllowedRepl(\n    $input: DeleteReplIdentityAllowedReplInput!\n  ) {\n    deleteReplIdentityAllowedRepl(input: $input) {\n      ... on Repl {\n        id\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return cn=function(){return e},e}var un={},dn=(0,M.Ps)(ln()),hn=(0,M.Ps)(an());var pn=(0,M.Ps)(sn());var mn=(0,M.Ps)(cn());function fn(){var e,n=(0,o.Z)(I.useState(null),2),t=n[0],r=n[1],l=(0,o.Z)(function(e){var n=(0,P.Z)({},un,e);return k.D(pn,n)}({onError:function(){return r("Something went wrong")},onCompleted:function(e){"NotFoundError"===e.addReplIdentityAllowedRepl.__typename?r(e.addReplIdentityAllowedRepl.message):(r(null),g())}}),2),a=l[0],s=l[1].loading,c=(0,o.Z)(function(e){var n=(0,P.Z)({},un,e);return k.D(mn,n)}({onError:function(){return r("Something went wrong")},onCompleted:function(e){"NotFoundError"===e.deleteReplIdentityAllowedRepl.__typename?r(e.deleteReplIdentityAllowedRepl.message):(r(null),g())}}),2),u=c[0],d=c[1].loading,p=function(e){var n=(0,P.Z)({},un,e);return X.a(hn,n)}(),m=p.data,f=p.loading,v=p.error,g=p.refetch;if(f)return(0,i.tZ)(Ke.Z,{});var y="AllowedReplIdentityReplsOutput"===(null===m||void 0===m||null===(e=m.allowedReplIdentityRepls)||void 0===e?void 0:e.__typename)?m.allowedReplIdentityRepls.repls:[];return(0,i.BX)(S.gC,{spacing:2,align:"stretch",children:[(0,i.tZ)(S.Ug,{spacing:1,align:"center",justify:"space-between",children:(0,i.tZ)(Z.xv,{color:"default",multiline:!1,children:"Allow Repls to act as you when authenticating to Replit public APIs."})}),(0,i.tZ)(on.Z,{disabled:s,filter:function(e){return!y.find((function(n){return n.id===e.id}))},excludeMultiplayer:!1,manualSelect:!0,onSelect:function(e){y.find((function(n){return n.id===e.id}))||a({variables:{input:{replId:e.id}}})},showComboBox:!0}),y.length>0?(0,i.BX)(b.G,{css:[B.l0.pt(8),B.l0.colWithGap(8)],children:[(0,i.tZ)(Z.h4,{level:3,variant:"subheadDefault",children:"Currently Authorized Repls"}),y.map((function(e){return e?(0,i.BX)(fe.Tg,{background:"higher",css:[B.l0.flex.row,B.l0.justify.spaceBetween,B.l0.align.center,B.l0.p(8),B.l0.borderRadius(8)],children:[(0,i.BX)(b.G,{css:[B.l0.rowWithGap(8)],children:[(0,i.tZ)(rn.Z,{size:16,alt:e.title,iconUrl:e.iconUrl}),(0,i.tZ)(Z.xv,{multiline:!1,css:[B.l0.color.foregroundDefault,{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"}],children:e.title})]}),(0,i.tZ)(h.zx,{disabled:d,variant:"outlined",onClick:function(){return u({variables:{input:{replId:e.id}}})},text:"Remove"})]},e.id):null}))]}):(0,i.tZ)("p",{children:"You haven't authorized any Repls yet."}),t?(0,i.tZ)(ee,{children:t}):null,"string"===typeof v?(0,i.tZ)(ee,{children:v}):null]})}var vn=t(23618),gn=t(39071),Zn=t(29818),yn=t(62219),bn=function(e){var n=e.context,t=e.title,r=e.titleShort,o=e.infoTooltipMessage,l=e.placeholderMessage,a=(0,yn.xk)(),s=(0,I.useState)(),c=s[0],u=s[1],d=(0,I.useState)(""),h=d[0],p=d[1],m=(0,gn.Ql)({onCompleted:function(e){var n;if("CurrentUser"===(null===(n=e.currentUser)||void 0===n?void 0:n.__typename))switch(e.currentUser.usageBasedBilling.__typename){case"UserUsageBasedBillingSummary":p(e.currentUser.username);break;case"UnauthorizedError":case"UserError":u(e.currentUser.usageBasedBilling.message);break;default:u("Unexpected response")}else u("Unexpected response")},onError:function(e){u(e.message)}}).loading;return(0,i.tZ)(Zn.Z,{context:n,title:t,titleShort:r,infoTooltipMessage:o,resourceSummary:a,resourceUsageType:"Requests",username:h,placeholderMessage:l,errorMessage:c,loading:m})},xn=t(35291);function wn(e){var n,t,o=e.billableMetric,i=(0,I.useState)(),l=i[0],a=i[1],s=(0,I.useState)(),c=s[0],u=s[1],d=(0,I.useState)(""),h=d[0],p=d[1],m=(t={},(0,r.Z)(t,T.oD.AutoscaleComputeSeconds,"ComputeUnits"),(0,r.Z)(t,T.oD.AccountDeploymentsEgress,"GiB"),(0,r.Z)(t,T.oD.AutoscaleRequests,"Requests"),(0,r.Z)(t,T.oD.NeonComputeTime,"ComputeHours"),(0,r.Z)(t,T.oD.NeonDataStorage,"GiB"),(0,r.Z)(t,T.oD.NeonDataTransfer,"GiB"),(0,r.Z)(t,T.oD.NeonWrittenData,"GiB"),t)[o],f=(0,gn.Ql)({fetchPolicy:"cache-and-network",ssr:!1,onCompleted:function(e){var n;if("CurrentUser"===(null===(n=e.currentUser)||void 0===n?void 0:n.__typename))switch(e.currentUser.usageBasedBilling.__typename){case"UserUsageBasedBillingSummary":a(e.currentUser.usageBasedBilling),p(e.currentUser.username);break;case"UnauthorizedError":case"UserError":u(e.currentUser.usageBasedBilling.message);break;default:u("Unexpected response")}else u("Unexpected response")},onError:function(e){u(e.message)}}).loading,v=(0,I.useMemo)((function(){return(0,yn.lc)({billingPeriodSummary:null===l||void 0===l?void 0:l.currentBillingPeriod,billableMetric:o})}),[l,o]),g=(0,I.useMemo)((function(){if(null===l||void 0===l?void 0:l.currentBillingPeriod){var e=new Date(l.currentBillingPeriod.billingPeriodEnd);return e?{long:e.toLocaleString("default",{month:"long",day:"numeric"}),short:e.toLocaleString("default",{month:"2-digit",day:"numeric"})}:void 0}}),[l]),Z=null===l||void 0===l||null===(n=l.currentBillingPeriod)||void 0===n?void 0:n.totals.find((function(e){return e.billableMetric===o})),y=null===Z||void 0===Z?void 0:Z.usage,b=null===Z||void 0===Z?void 0:Z.freeUnits,x=null!=y&&null!=b?Math.max(y,b):void 0,w=null===Z||void 0===Z?void 0:Z.overageCostsUSD,C=void 0;return x&&0!==x?C="".concat((0,xn.fZ)(null!==y&&void 0!==y?y:0,{resourceUsageType:m,precision:1,skipUnits:!0})," / ").concat((0,xn.fZ)(x,{resourceUsageType:m,precision:1})):y&&(C="".concat((0,xn.fZ)(y,{resourceUsageType:m,precision:1}))),{username:h,loading:f,errorMessage:c,resourceSummary:v,resourceUsageType:m,totalUsageMessage:C,statusMessageLong:g?"Resets on ".concat(g.long):"",statusMessageShort:g?"Resets ".concat(g.short):"",overageIndicator:Gn({totalUsage:null!==y&&void 0!==y?y:void 0,totalFreeUnits:null!==b&&void 0!==b?b:void 0,overageCostsUSD:null!==w&&void 0!==w?w:void 0,resourceUsageType:m})}}var Cn=function(e){var n=e.context,t=e.title,r=e.titleShort,o=e.infoTooltipMessage,l=wn({billableMetric:e.billableMetric}),a=l.loading,s=l.totalUsageMessage,c=l.resourceSummary,u=l.resourceUsageType,d=l.username,h=l.statusMessageLong,p=l.errorMessage,m=l.overageIndicator;return(0,i.tZ)(Zn.Z,{context:n,title:t,titleShort:r,infoTooltipMessage:o,totalUsageMessage:s,resourceSummary:c,resourceUsageType:u,username:d,statusMessage:h,errorMessage:p,loading:a,overageSummary:null===m||void 0===m?void 0:m.summary,overageIndicator:null===m||void 0===m?void 0:m.indicator})},Un=(0,ae.X)({usage:[{fontWeight:B.TV.fontWeightBold}]}),Gn=function(e){var n=e.totalUsage,t=e.totalFreeUnits,r=e.overageCostsUSD,o=e.resourceUsageType;if(null!=n&&null!=t&&null!=r&&!(n<=t&&r<=0))return{indicator:(0,i.BX)(Z.xv,{color:"dimmer",children:[(0,i.tZ)(Z.xv,{css:B.l0.color.accentPrimaryStrongest,children:"Limit depleted "}),"(",(0,xn.fZ)(Math.max(0,n),{resourceUsageType:o,precision:1,skipUnits:!0})," ","used)"]}),summary:(0,i.BX)(Z.xv,{children:[(0,i.tZ)(Z.xv,{css:Un.usage,children:(0,xn.fZ)(Math.max(0,n-t),{resourceUsageType:o,precision:1,additional:!0})})," ","(",Math.max(0,r).toLocaleString(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}),") ",(0,i.tZ)(Z.xv,{color:"dimmer",children:"this month so far"})]})}},Bn=t(84786),Sn=t(79451),Tn=(0,ae.X)({self:[B.l0.colWithGap(6)],header:[B.l0.flex.row,B.l0.rowWithGap(0),B.l0.flex.growAndShrink(1),B.l0.justify.spaceBetween,B.l0.align.baseline],title:[B.l0.flex.growAndShrink(0)],info:[B.l0.rowWithGap(4),B.l0.align.center],loader:[B.l0.justify.center,B.l0.flex.row],usage:[B.l0.flex.growAndShrink(0),B.l0.align.baseline,B.l0.flex.row],total:[B.l0.py(1),B.l0.flex.growAndShrink(0)],tooltipIcon:[(0,r.Z)({},(0,Sn.EM)("mobileMax"),[B.l0.display.none])]}),In=function(e){var n=e.context,t=e.title,r=e.billableMetric,o=e.infoTooltipMessage,l=wn({billableMetric:r}),a=l.loading,s=l.totalUsageMessage,c=l.resourceSummary,u=l.resourceUsageType,d=l.username,h=l.statusMessageShort,p=l.errorMessage,m=l.overageIndicator,f=(null===m||void 0===m?void 0:m.indicator)?m.indicator:s?(0,i.tZ)(Z.xv,{variant:"small",color:"dimmer",css:Tn.total,multiline:!1,children:s}):null;return(0,i.BX)(b.G,{css:Tn.self,children:[(0,i.BX)(b.G,{css:Tn.header,children:[(0,i.tZ)(Z.xv,{variant:"small",color:"dimmest",css:Tn.title,children:t}),(0,i.tZ)(b.G,{css:Tn.info,children:a?(0,i.tZ)(b.G,{css:Tn.loader,children:(0,i.tZ)(Ke.Z,{size:12})}):(0,i.BX)(i.HY,{children:[(0,i.BX)(Z.xv,{variant:"small",color:"dimmest",css:Tn.usage,children:[f," \xa0\xa0",h]}),(0,i.tZ)(y.u,{tooltip:(0,i.tZ)(Z.xv,{children:o}),children:(0,i.tZ)(C.Z,{css:Tn.tooltipIcon,size:12})})]})})]}),p?(0,i.tZ)(v.E,{colorway:"negative",text:p}):null,c?(0,i.tZ)(Bn.$,{small:!0,summary:c,context:{type:"cycles_page"===n?n:"account_page"},username:d,resourceUsageType:u}):null]},r)},Pn=(0,ae.X)({header:[B.l0.rowWithGap(16),B.l0.align.center,B.l0.justify.spaceBetween,B.l0.mb(12),(0,r.Z)({},(0,Sn.EM)("mobileMax"),[B.l0.flex.wrap])],main:[B.l0.rowWithGap(4),B.l0.align.center],title:[B.l0.display.flex,(0,r.Z)({},(0,Sn.EM)("mobileMax"),[B.l0.display.none])],titleShort:[B.l0.display.none,(0,r.Z)({},(0,Sn.EM)("mobileMax"),{display:"unset"})],tooltipIcon:(0,r.Z)({},(0,Sn.EM)("mobileMax"),[B.l0.display.none]),items:[B.l0.colWithGap(12),B.l0.flex.growAndShrink(1)]}),Dn=function(e){var n=e.context,t=e.title,r=e.titleShort,o=e.infoTooltipMessage,l=e.billableMetrics;return(0,i.BX)(i.HY,{children:[(0,i.tZ)(b.G,{tag:"header",css:Pn.header,children:(0,i.BX)(b.G,{css:Pn.main,children:[(0,i.tZ)(Z.xv,{multiline:!1,variant:"subheadDefault",css:Pn.title,children:t}),(0,i.tZ)(Z.xv,{multiline:!1,variant:"subheadDefault",css:Pn.titleShort,children:r}),(0,i.tZ)(y.u,{tooltip:(0,i.tZ)(Z.xv,{children:o}),children:(0,i.tZ)(C.Z,{css:Pn.tooltipIcon})})]})}),(0,i.tZ)(b.G,{css:Pn.items,children:l.map((function(e){var t=e.title,r=e.billableMetric,o=e.infoTooltipMessage;return(0,i.tZ)(In,{context:n,title:t,billableMetric:r,infoTooltipMessage:o},r)}))})]})},Mn=t(87136),kn=t(19344),Xn=(0,ae.X)({self:[B.l0.colWithGap(24),B.l0.justify.center,B.l0.p(16),B.l0.borderRadius(12),B.l0.border({color:B.TV.outlineDimmest,width:1,style:"solid"})],sectionDivider:[B.l0.width("100%"),B.l0.height(1),B.l0.backgroundColor.outlineDimmest]}),Rn=function(){var e=(0,c.P5)({controlName:"flag-autoscale-requests",logFlagToAnalytics:!1}),n=(0,c.P5)({controlName:kn.uZ,logFlagToAnalytics:!1});return(0,i.BX)(b.G,{css:Xn.self,children:[(0,i.tZ)(Cn,{context:"account_resource_usage",billableMetric:T.oD.AutoscaleComputeSeconds,title:"Autoscale Deployments",titleShort:"Autoscale Deployments",infoTooltipMessage:"Usage of Autoscale Deployments is measured in compute units."}),(0,i.tZ)(b.G,{css:Xn.sectionDivider}),(0,i.tZ)(Cn,{context:"account_resource_usage",billableMetric:T.oD.AccountDeploymentsEgress,title:"Deployments Outbound Data Transfer",titleShort:"Deployments Data Transfer",infoTooltipMessage:"Usage of Deployments Outbound Data Transfer is measured in bytes."}),(0,i.tZ)(b.G,{css:Xn.sectionDivider}),e?(0,i.tZ)(Cn,{context:"account_resource_usage",billableMetric:T.oD.AutoscaleRequests,title:"Autoscale Incoming Requests",titleShort:"Autoscale Requests",infoTooltipMessage:"Usage of Autoscale Incoming Requests is measured in requests."}):(0,i.tZ)(bn,{context:"account_resource_usage",title:"Deployments Incoming Requests",titleShort:"Deployments Requests",infoTooltipMessage:"Usage of Incoming Requests is measured by HTTP request.",placeholderMessage:"Incoming requests received by your deployments will eventually be \n            tracked like other resource usage.  \n            Your account will receive a free allowance and be billed for usage over that allowance."}),(0,i.tZ)(b.G,{css:Xn.sectionDivider}),n?(0,i.BX)(i.HY,{children:[(0,i.tZ)(Dn,{context:"account_resource_usage",title:"PostgreSQL Database",titleShort:"PostgreSQL Database",infoTooltipMessage:"Usage of PostgreSQL Database's are measured across the metrics listed below.",billableMetrics:[{title:"Compute time",titleShort:"Compute time",billableMetric:T.oD.NeonComputeTime,infoTooltipMessage:"The amount of compute resources used per hour."},{title:"Data storage",titleShort:"Data storage",billableMetric:T.oD.NeonDataStorage,infoTooltipMessage:"The volume of data and history stored."},{title:"Data transfer",titleShort:"Data transfer",billableMetric:T.oD.NeonDataTransfer,infoTooltipMessage:"The volume of data transferred out."},{title:"Written data",titleShort:"Written data",billableMetric:T.oD.NeonWrittenData,infoTooltipMessage:"The volume of data written from compute to storage."}]}),(0,i.tZ)(b.G,{css:Xn.sectionDivider})]}):null,(0,i.tZ)(vn.Z,{context:"account_resource_usage"}),(0,i.tZ)(b.G,{css:Xn.sectionDivider}),(0,i.tZ)(Mn.r,{context:"account_page"})]})},_n=t(16679),An=t(39995),En=t(35382),Wn=t(38029),Nn=(0,ae.X)({preferencesContainer:[B.l0.colWithGap(24)],preference:[B.l0.rowWithGap(8),B.l0.justify.spaceBetween],labelTitle:[B.l0.fontWeight.medium]});function Vn(){var e=(0,An.Z)(),n=e.preferences,t=e.update,r=e.loading,o=(0,En.$0)().fireCircularBurstFrom,l=(0,Wn.U)();return(0,i.tZ)(b.G,{css:Nn.preferencesContainer,children:(0,i.BX)(b.G,{css:Nn.preference,children:[(0,i.BX)(b.G,{tag:"label",htmlFor:l("delight"),children:[(0,i.tZ)(Z.xv,{css:Nn.labelTitle,children:"Extra delight mode"}),(0,i.tZ)(Z.xv,{color:"dimmer",children:"Experience extra moments of joy"})]}),(0,i.tZ)(_n.X,{id:l("delight"),checked:n.extraDelight,disabled:r,onChange:function(e){r||(e.target.checked&&o({element:e.target}),t({extraDelight:e.target.checked}))}})]})})}function zn(){var e=(0,D.Z)(["\n  fragment AccountUserRolesCurrentUser on CurrentUser {\n    id\n    roles {\n      id\n      key\n    }\n  }\n"]);return zn=function(){return e},e}function Ln(){var e=(0,D.Z)(["\n  mutation AccountUserRolesUpdateRole($role: UserRoles!, $flag: Boolean!) {\n    updateRole(role: $role, flag: $flag) {\n      ... on CurrentUser {\n        id\n        ...AccountUserRolesCurrentUser\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return Ln=function(){return e},e}var jn={},qn=(0,M.Ps)(zn()),On=(0,M.Ps)(Ln(),qn);var Yn=t(47381),$n=(0,ae.X)({rolesContainer:[B.l0.colWithGap(24),B.l0.align.stretch],role:[B.l0.rowWithGap(8),B.l0.align.center,B.l0.justify.spaceBetween],label:[B.l0.fontWeight.medium]});function Fn(e){var n=e.currentUser,t=(0,o.Z)(I.useState(null),2),r=t[0],l=t[1],a=n.roles.map((function(e){return e.key})),s=(0,o.Z)(function(e){var n=(0,P.Z)({},jn,e);return k.D(On,n)}({onError:function(){return l("Something went wrong")},onCompleted:function(e){var n;"UserError"===(null===(n=e.updateRole)||void 0===n?void 0:n.__typename)?l(e.updateRole.message):l(null)}}),2),c=s[0],u=s[1].loading;return(0,i.BX)(b.G,{css:$n.rolesContainer,children:[[{name:"Explorer",role:T.SM.Explorer}].map((function(e){var n=e.name,t=e.role,r=a.includes(t);return(0,i.BX)(I.Fragment,{children:[(0,i.BX)(b.G,{css:$n.role,children:[(0,i.tZ)(Z.xv,{color:r?"default":"dimmest",css:$n.label,children:n}),(0,i.tZ)(g.r,{isSelected:r,onChange:function(){u||c({variables:{role:t,flag:!r}})},"aria-labelledby":"toggle-explorer-role"})]}),t===T.SM.Explorer?(0,i.tZ)(v.E,{icon:(0,i.tZ)(Yn.Z,{}),colorway:"warning",text:"Explorers help Replit test new features, but sometimes we make mistakes. If something isn\u2019t working right, please let us know. You can remove this role to hang up your explorer\u2019s hat until we get things fixed."}):null]},t)})),r?(0,i.tZ)(ee,{children:r}):null]})}var Hn=t(8942),Qn=(0,ae.X)({container:[B.l0.colWithGap(16)],row:[B.l0.rowWithGap(16),B.l0.justify.spaceBetween,B.l0.align.center],property:[B.l0.colWithGap(4)],label:[B.l0.fontWeight.medium]}),Kn=function(e){var n=e.verifiedPhoneNumber,t=e.context;return n?(0,i.tZ)(b.G,{css:Qn.container,children:(0,i.BX)(b.G,{css:Qn.row,children:[(0,i.BX)(b.G,{css:Qn.property,children:[(0,i.tZ)(Z.xv,{css:Qn.label,children:"Phone Number"}),(0,i.tZ)(Z.xv,{children:n})]}),(0,i.tZ)(y.u,{placement:"left",tooltip:"Once verified, your phone number cannot be changed. Please contact support for assistance.",children:(0,i.tZ)(h.zx,{text:"Edit",iconLeft:(0,i.tZ)(w.Z,{}),variant:"outlined",disabled:!0})})]})}):(0,i.tZ)(Hn.Z,{context:t})},Jn=t(28317),et=t(67217),nt=t(6108),tt=t(78370),rt=t(36603),ot=t(58446),it=t(14053),lt=t(74706),at=t(85247),st=t(46918),ct=t(5860),ut=t(63890),dt=t(3861),ht=t(60819),pt=t(98304),mt=(0,ae.X)({section:[B.l0.p(16),B.l0.borderRadius(12),{border:"1px solid ".concat(B.TV.outlineDimmest)}],self:[B.l0.colWithGap(8),B.l0.align.stretch,B.l0.position.relative],header:[B.l0.flex.row,B.l0.justify.spaceBetween,(0,r.Z)({},B.BC.max("mobileMax"),[B.l0.colWithGap(8)])],actions:[B.l0.align.center,B.l0.rowWithGap(8)],actionButton:[(0,r.Z)({},B.BC.max("mobileMax"),[{flexGrow:1}])],titleWrapper:[B.l0.flex.column],linkAnchor:[{position:"absolute",top:"-80px"}]});function ft(e){var n=e.title,t=e.children,r=(0,ut.oM)();return(0,i.BX)(b.G,{css:mt.self,children:[(0,i.tZ)(b.G,{css:mt.linkAnchor,id:"themes"}),(0,i.BX)(b.G,{css:mt.header,children:[(0,i.BX)(b.G,{css:mt.titleWrapper,children:[(0,i.tZ)(Z.xv,{variant:"headerDefault",id:n.toLowerCase(),multiline:!1,children:n}),(0,i.tZ)(ht.Z,{feature:pt.l.Themes})]}),(0,i.BX)(b.G,{css:mt.actions,children:[(0,i.tZ)(de.Z,{dataCy:"browse-themes-button",iconLeft:(0,i.tZ)(we.Z,{}),text:"Browse Themes",href:r.href,as:r.as,css:mt.actionButton}),(0,i.tZ)(de.Z,{dataCy:"create-theme-button",iconLeft:(0,i.tZ)(dt.Z,{}),text:"Create Theme",colorway:"primary",href:ut.ZS.href,as:ut.ZS.as,css:mt.actionButton})]})]}),(0,i.tZ)(fe.Tg,{tag:"section",css:mt.section,children:t})]})}var vt=t(97372),gt=t(13912),Zt=t(39146);function yt(){var e=(0,D.Z)(["\n  fragment ThemesPreferencesCustomTheme on CustomTheme {\n    id\n    title\n    slug\n    hasUnpublishedChanges\n    isCurrentUserThemeAuthor\n    ...DeleteDialogTheme\n    colorScheme\n    isInstalledByCurrentUser\n    currentUserInstalledThemeVersion {\n      id\n      values {\n        ...ThemesThemeValues\n      }\n    }\n    author {\n      id\n      ...ThemesCustomThemeUser\n    }\n  }\n  ","\n  ","\n  ","\n"]);return yt=function(){return e},e}function bt(){var e=(0,D.Z)(["\n  fragment ThemesPreferencesInstalledTheme on InstalledTheme {\n    id\n    customTheme {\n      id\n      ...ThemesPreferencesCustomTheme\n    }\n  }\n  ","\n"]);return bt=function(){return e},e}var xt=(0,M.Ps)(yt(),gt.LX,Zt.x2,Zt.sj),wt=(0,M.Ps)(bt(),xt);function Ct(){var e=(0,D.Z)(["\n  query ThemesPreferencesCustomPanelCurrentUser(\n    $authoredThemesInput: CurrentUserAuthoredThemesInput!\n  ) {\n    currentUser {\n      id\n      username\n      activeThemeVersion {\n        id\n        customTheme {\n          id\n          title\n        }\n      }\n      editorPreferences {\n        theme\n      }\n      authoredThemes(input: $authoredThemesInput) {\n        ... on CustomThemeConnection {\n          items {\n            id\n            ...ThemesPreferencesCustomTheme\n          }\n          pageInfo {\n            nextCursor\n            hasNextPage\n            hasPreviousPage\n            previousCursor\n          }\n        }\n        ... on UnauthorizedError {\n          message\n        }\n        ... on UserError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return Ct=function(){return e},e}var Ut={},Gt=(0,M.Ps)(Ct(),xt);var Bt=t(25404),St=(0,ae.X)({self:[B.l0.colWithGap(12)]}),Tt=function(){var e,n,t,r=(0,Bt.Z)().showError,l=(0,Wn.U)(),a=(0,o.Z)(I.useState({count:6}),2),s=a[0],c=a[1],u=function(e){var n=(0,P.Z)({},Ut,e);return X.a(Gt,n)}({variables:{authoredThemesInput:{count:6}},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,ssr:!1,onError:function(e){return r(e.message)},onCompleted:function(e){var n,t=null===(n=e.currentUser)||void 0===n?void 0:n.authoredThemes;"UnauthorizedError"!==(null===t||void 0===t?void 0:t.__typename)&&"UserError"!==(null===t||void 0===t?void 0:t.__typename)||r(t.message)}}),d=u.data,h=u.loading,p=u.fetchMore,m=("CustomThemeConnection"===(null===d||void 0===d||null===(e=d.currentUser)||void 0===e||null===(n=e.authoredThemes)||void 0===n?void 0:n.__typename)?d.currentUser.authoredThemes.items:[]).reduce((function(e,n){var t,r=null===(t=n.currentUserInstalledThemeVersion)||void 0===t?void 0:t.values;return"undefined"!==typeof r?e.concat([(0,P.Z)({type:"custom",values:r},n)]):e}),[]),f="CustomThemeConnection"===(null===d||void 0===d||null===(t=d.currentUser)||void 0===t?void 0:t.authoredThemes.__typename)?d.currentUser.authoredThemes.pageInfo:void 0,v={onPrevClick:function(){var e,n=null===d||void 0===d||null===(e=d.currentUser)||void 0===e?void 0:e.authoredThemes;"CustomThemeConnection"===(null===n||void 0===n?void 0:n.__typename)&&n.pageInfo.hasPreviousPage&&"undefined"!==typeof n.pageInfo.previousCursor&&(c((function(e){return(0,ke.Z)((0,P.Z)({},e),{after:n.pageInfo.previousCursor})})),p({variables:{authoredThemesInput:{count:6,after:n.pageInfo.previousCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},onNextClick:function(){var e,n=null===d||void 0===d||null===(e=d.currentUser)||void 0===e?void 0:e.authoredThemes;"CustomThemeConnection"===(null===n||void 0===n?void 0:n.__typename)&&n.pageInfo.hasNextPage&&"undefined"!==typeof n.pageInfo.nextCursor&&(c((function(e){return(0,ke.Z)((0,P.Z)({},e),{after:n.pageInfo.nextCursor})})),p({variables:{authoredThemesInput:{count:6,after:n.pageInfo.nextCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},hasNext:null===f||void 0===f?void 0:f.hasNextPage,hasPrev:null===f||void 0===f?void 0:f.hasPreviousPage};return(0,i.BX)(b.G,{css:St.self,children:[(0,i.tZ)(Z.xv,{variant:"subheadDefault",multiline:!1,children:"Custom Themes"}),(0,i.tZ)(vt.Z,{name:l("custom-themes"),themes:m,paginationOptions:v,themesLoading:h,emptyText:"Themes you create will appear here.",refetchOptions:{queryDoc:Gt,input:s}})]})};function It(){var e=(0,D.Z)(["\n  query ThemesPreferencesInstalledPanelCurrentUser(\n    $installedThemesInput: CurrentUserInstalledThemesInput!\n  ) {\n    currentUser {\n      id\n      username\n      activeThemeVersion {\n        id\n        customTheme {\n          id\n        }\n      }\n      editorPreferences {\n        theme\n      }\n      installedThemes(input: $installedThemesInput) {\n        ... on InstalledThemeConnection {\n          items {\n            id\n            ...ThemesPreferencesInstalledTheme\n          }\n          pageInfo {\n            nextCursor\n            hasNextPage\n            hasPreviousPage\n            previousCursor\n          }\n        }\n        ... on UnauthorizedError {\n          message\n        }\n        ... on UserError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return It=function(){return e},e}var Pt={},Dt=(0,M.Ps)(It(),wt);var Mt=(0,ae.X)({self:[B.l0.colWithGap(12)]}),kt=function(){var e,n,t,r=(0,Bt.Z)().showError,l=(0,Wn.U)(),a=(0,o.Z)(I.useState({count:6}),2),s=a[0],c=a[1],u=function(e){var n=(0,P.Z)({},Pt,e);return X.a(Dt,n)}({variables:{installedThemesInput:{count:6}},fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,ssr:!1,onError:function(e){return r(e.message)},onCompleted:function(e){var n,t=null===(n=e.currentUser)||void 0===n?void 0:n.installedThemes;"UnauthorizedError"!==(null===t||void 0===t?void 0:t.__typename)&&"UserError"!==(null===t||void 0===t?void 0:t.__typename)||r(t.message)}}),d=u.data,h=u.loading,p=u.fetchMore,m=("InstalledThemeConnection"===(null===d||void 0===d||null===(e=d.currentUser)||void 0===e||null===(n=e.installedThemes)||void 0===n?void 0:n.__typename)?d.currentUser.installedThemes.items:[]).reduce((function(e,n){var t,r=n.customTheme,o=null===(t=r.currentUserInstalledThemeVersion)||void 0===t?void 0:t.values;return"undefined"!==typeof o?e.concat([(0,P.Z)({type:"custom",values:o},r)]):e}),[]),f="InstalledThemeConnection"===(null===d||void 0===d||null===(t=d.currentUser)||void 0===t?void 0:t.installedThemes.__typename)?d.currentUser.installedThemes.pageInfo:void 0,v={onPrevClick:function(){var e,n=null===d||void 0===d||null===(e=d.currentUser)||void 0===e?void 0:e.installedThemes;"InstalledThemeConnection"===(null===n||void 0===n?void 0:n.__typename)&&n.pageInfo.hasPreviousPage&&"undefined"!==typeof n.pageInfo.previousCursor&&(c((function(e){return(0,ke.Z)((0,P.Z)({},e),{after:n.pageInfo.previousCursor})})),p({variables:{installedThemesInput:{count:6,after:n.pageInfo.previousCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},onNextClick:function(){var e,n=null===d||void 0===d||null===(e=d.currentUser)||void 0===e?void 0:e.installedThemes;"InstalledThemeConnection"===(null===n||void 0===n?void 0:n.__typename)&&n.pageInfo.hasNextPage&&"undefined"!==typeof n.pageInfo.nextCursor&&(c((function(e){return(0,ke.Z)((0,P.Z)({},e),{after:n.pageInfo.nextCursor})})),p({variables:{installedThemesInput:{count:6,after:n.pageInfo.nextCursor}},updateQuery:function(e,n){return n.fetchMoreResult}}))},hasNext:null===f||void 0===f?void 0:f.hasNextPage,hasPrev:null===f||void 0===f?void 0:f.hasPreviousPage};return(0,i.BX)(b.G,{css:Mt.self,children:[(0,i.tZ)(Z.xv,{variant:"subheadDefault",multiline:!1,children:"Installed from Community"}),(0,i.tZ)(vt.Z,{name:l("installed-themes"),themes:m,paginationOptions:v,themesLoading:h,emptyText:"Themes you install will appear here.",refetchOptions:{queryDoc:Dt,input:s}})]})},Xt=t(21141),Rt=(0,ae.X)({self:[B.l0.colWithGap(24)],sectionDivider:[B.l0.width("100%"),B.l0.height(1),B.l0.backgroundColor.outlineDimmest]}),_t=function(){return(0,i.BX)(b.G,{css:Rt.self,children:[(0,i.tZ)(Xt.Z,{}),(0,i.tZ)(b.G,{css:Rt.sectionDivider}),(0,i.tZ)(Tt,{}),(0,i.tZ)(b.G,{css:Rt.sectionDivider}),(0,i.tZ)(kt,{})]})},At=function(){return(0,i.tZ)(ft,{title:"Themes",children:(0,i.tZ)(_t,{})})},Et=t(97458);function Wt(){var e=(0,D.Z)(["\n  fragment AccountBillingCurrentUser on CurrentUser {\n    id\n    billingInfo {\n      planInfo {\n        provider\n        amount\n        description\n        nextPaymentDue\n        interval\n        cancelAt\n        coupon {\n          percent\n          amount\n          endAt\n        }\n      }\n      expiration\n    }\n    customer {\n      id\n      stripeCustomerId\n    }\n  }\n"]);return Wt=function(){return e},e}var Nt=(0,M.Ps)(Wt());function Vt(){var e=(0,D.Z)(["\n  query AccountSettings {\n    currentUser {\n      id\n      isAdmin: hasRole(role: ADMIN)\n      roles {\n        id\n        key\n      }\n      ...AccountProfileCurrentUser\n      ...AccountAccountCurrentUser\n      ...AccountBillingCurrentUser\n      ...AccountUserRolesCurrentUser\n      ...AccountEmailSettingsCurrentUser\n      ...AccountConnectedServicesCurrentUser\n      ...ReplIdentityCurrentUser\n    }\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return Vt=function(){return e},e}var zt,Lt,jt,qt={},Ot=(0,M.Ps)(Vt(),Ve,z,Nt,qn,Q,Ie,dn);var Yt=(0,ae.X)({page:[B.l0.flex.column,B.l0.px(16),B.l0.py(64),B.l0.pt(32),(zt={marginBottom:"50vh",gap:B.TV.space32},(0,r.Z)(zt,B.BC.max("mobileMax"),[B.l0.pt(24),{gap:B.TV.space16}]),(0,r.Z)(zt,B.BC.max("tabletMax"),[B.l0.mb(0)]),zt)],tabContainerTop:[nt.gU.listItem,B.l0.p(4),B.l0.rowWithGap(8),B.l0.borderRadius(8)],profilePicture:[B.l0.width(44),B.l0.height(44)],nameContainer:[B.l0.flex.column,B.l0.color.foregroundDefault],firstLastName:[B.l0.width(144),{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}],main:[B.l0.flex.row,B.l0.justify.center,(0,r.Z)({gap:B.TV.space32},B.BC.max("tabletMax"),[B.l0.pb(32),B.l0.flex.column,{gap:B.TV.space16}])],sectionContainer:[B.l0.colWithGap(32),(0,r.Z)({},B.BC.min("tabletMax"),B.l0.maxWidth(600))],loadingContainer:[B.l0.width(600),B.l0.maxWidth("100%"),B.l0.height(128),B.l0.center],tabContainerWrapper:[B.l0.flex.column,B.l0.width(200),B.l0.position.sticky,B.l0.top(80),(Lt={alignSelf:"flex-start"},(0,r.Z)(Lt,B.BC.max("tabletMax"),[B.l0.width("100%"),B.l0.position.relative,B.l0.top("revert"),B.l0.mb(0)]),(0,r.Z)(Lt,B.BC.max("tabletMax"),[B.l0.display.none]),Lt)],tabContainerAccordion:[B.l0.mb(0),B.l0.mx(8),B.l0.shadow(1),B.l0.borderRadius(8),B.l0.zIndex(1),B.l0.position.sticky,B.l0.top(56),B.l0.overflow("hidden"),B.l0.border({color:B.TV.outlineDimmest}),(jt={backgroundColor:nt.vb.interactiveBackground,"& > button":{padding:B.TV.space8,fontWeight:B.TV.fontWeightMedium,borderRadius:8}},(0,r.Z)(jt,B.BC.min("tabletMax"),[B.l0.display.none]),(0,r.Z)(jt,'button[aria-expanded="true"]',{borderBottomLeftRadius:0,borderBottomRightRadius:0,borderBottom:"1px solid ".concat(B.TV.outlineDimmest)}),jt)],tabComponent:[nt.gU.listItem,B.l0.p(8),B.l0.display.flex,B.l0.borderRadius(8),B.l0.rowWithGap(8),B.l0.height(32),B.l0.align.center,{"&:hover":{color:B.TV.foregroundDefault},"&:hover > svg":{color:B.TV.foregroundDefault}}],tabComponentBorder:[B.l0.my(2),B.l0.mx(4),B.l0.height(1),B.l0.width("calc(100% - 8px)"),B.l0.backgroundColor.outlineDimmest],straightCorners:{"& a":B.l0.borderRadius(0)},roundedCorners:{"& a":B.l0.borderRadius(8)}}),$t=(0,ae.X)({base:[Yt.tabComponent,B.l0.backgroundColor.backgroundRoot,B.l0.color.foregroundDimmer,{"& > svg":B.l0.color.foregroundDimmest}],selected:[Yt.tabComponent,B.l0.backgroundColor.backgroundDefault,B.l0.color.foregroundDefault,{"& > svg":B.l0.color.foregroundDefault}]}),Ft=[{icon:(0,i.tZ)(ct.Z,{}),label:"Profile",href:"profile"},{icon:(0,i.tZ)(at.Z,{}),label:"Account",href:"account"},{icon:(0,i.tZ)(x.Z,{}),label:"Verification",href:"verification"},{icon:(0,i.tZ)(ot.Z,{}),label:"Billing",href:"billing"},{icon:(0,i.tZ)(rt.Z,{}),label:"Preferences",href:"preferences"},{icon:(0,i.tZ)(tt.Z,{}),label:"Roles",href:"roles"},{icon:(0,i.tZ)(lt.Z,{}),label:"Themes",href:"themes"},{icon:(0,i.tZ)(st.Z,{}),label:"Resource usage",href:"resource-usage"},{icon:(0,i.tZ)(we.Z,{}),label:"Connected services",href:"connected-services"},{icon:(0,i.tZ)(it.Z,{}),label:"Repl identity",href:"repl-identity"}],Ht=function(e){var n=e.icon,t=e.label,r=e.href,o=e.selected,l=e.bottomBorder,a=e.onClick;return(0,i.BX)(i.HY,{children:[(0,i.tZ)(qe(),{legacyBehavior:!0,href:"#".concat(r),passHref:!0,children:(0,i.BX)("a",{onClick:a,css:o?$t.selected:$t.base,children:[n,(0,i.tZ)(Z.xv,{color:"default",children:t})]})}),l?(0,i.tZ)(b.G,{css:Yt.tabComponentBorder}):null]})};function Qt(){var e=function(e){var n=(0,P.Z)({},qt,e);return X.a(Ot,n)}({ssr:!1}).data,n=null===e||void 0===e?void 0:e.currentUser,t=null===n||void 0===n?void 0:n.roles.some((function(e){return e.key===T.SM.PrivacyLimitedAccess})),r=(0,c.P5)({controlName:"flag-sms-verification",logFlagToAnalytics:!1}),l=(0,o.Z)(I.useState(void 0),2),a=l[0],s=l[1];I.useEffect((function(){if(n){var e=window.location.hash;if(e&&e.startsWith("#")){var t=e.replace("#",""),r=document.getElementById(t);r&&r.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}}}),[n]);var u=(0,o.Z)(I.useState(!1),2),d=u[0],h=u[1],p=function(e){var o=e.straightCorners;return(0,i.tZ)(b.G,{css:o?Yt.straightCorners:Yt.roundedCorners,children:Ft.map((function(e){if("repl-identity"===e.href&&!(null===n||void 0===n?void 0:n.hasReplitIdentityTesting))return null;if("verification"===e.href&&!r)return null;var o="account"===e.href||"billing"===e.href||"connected-services"===e.href;return t&&o?null:(0,i.tZ)(Ht,{icon:e.icon,label:e.label,href:e.href,bottomBorder:e.bottomBorder,selected:a===e.href,onClick:function(){return n=e.href,s(n),void h(!1);var n}},e.href)}))})};return(0,i.tZ)(b.G,{css:Yt.page,children:(0,i.BX)(b.G,{css:Yt.main,children:[(0,i.BX)(b.G,{css:Yt.tabContainerWrapper,children:[(0,i.tZ)(qe(),{legacyBehavior:!0,href:"/@".concat(null===n||void 0===n?void 0:n.username),passHref:!0,children:(0,i.tZ)("a",{children:(0,i.BX)(b.G,{css:Yt.tabContainerTop,children:[(0,i.tZ)(et.q,{size:48,css:Yt.profilePicture,src:(null===n||void 0===n?void 0:n.image)||null,username:"".concat(null===n||void 0===n?void 0:n.username)}),(0,i.BX)(b.G,{css:Yt.nameContainer,children:[(0,i.BX)(Z.xv,{variant:"subheadDefault",color:"default",css:Yt.firstLastName,children:[null===n||void 0===n?void 0:n.firstName," ",null===n||void 0===n?void 0:n.lastName]}),(0,i.tZ)(Z.xv,{color:"dimmer",children:(null===n||void 0===n?void 0:n.username)?"@".concat(n.username):""})]})]})})}),(0,i.tZ)(b.G,{css:Yt.tabComponentBorder}),(0,i.tZ)(p,{straightCorners:!1,showVerification:r})]}),(0,i.tZ)(Jn.Q,{headerContent:"Jump to",css:Yt.tabContainerAccordion,expanded:d,onClick:function(){return h(!d)},children:(0,i.tZ)(p,{straightCorners:!0,showVerification:r})}),(0,i.tZ)(b.G,{css:Yt.sectionContainer,children:n?(0,i.BX)(i.HY,{children:[(0,i.tZ)(Jt,{title:"Profile",id:"profile",setInView:s,children:(0,i.tZ)(tn,{currentUser:n})}),(0,i.tZ)(Jt,{title:"Account",id:"account",setInView:s,children:t?(0,i.tZ)(ce,{currentUser:n}):(0,i.tZ)(le,{currentUser:n})}),r?(0,i.tZ)(Jt,{title:"Verification",id:"verification",setInView:s,children:(0,i.tZ)(Kn,{context:T.jv.Voluntary,verifiedPhoneNumber:n.verifiedPhoneNumber})}):null,t?null:(0,i.tZ)(Jt,{title:"Billing",id:"billing",setInView:s,children:(0,i.tZ)(ge,{currentUser:n})}),(0,i.tZ)(Jt,{title:"Preferences",id:"preferences",setInView:s,children:(0,i.tZ)(Vn,{})}),(0,i.tZ)(Jt,{title:"Roles",id:"roles",setInView:s,children:(0,i.tZ)(Fn,{currentUser:n})}),(0,i.tZ)(Jt,{id:"themes",setInView:s,outline:!1,children:(0,i.tZ)(At,{})}),(0,i.tZ)(Jt,{setInView:s,title:"Resource usage",id:"resource-usage",outline:!1,children:(0,i.tZ)(Rn,{})}),t?null:(0,i.tZ)(Jt,{title:"Connected services",id:"connected-services",setInView:s,children:(0,i.tZ)(Me,{currentUser:n})}),n.hasReplitIdentityTesting?(0,i.tZ)(Jt,{title:"Repl identity",id:"repl-identity",setInView:s,children:(0,i.tZ)(fn,{})}):null]}):(0,i.tZ)(b.G,{css:Yt.loadingContainer,children:(0,i.tZ)(Ke.Z,{size:20})})})]})})}var Kt=(0,ae.X)({sectionWrapper:[B.l0.position.relative,B.l0.colWithGap(12),(0,r.Z)({scrollMarginTop:108},B.BC.min("tabletMax"),{scrollMarginTop:80})],section:[B.l0.p(16),B.l0.borderRadius(12),B.l0.border({color:B.TV.outlineDimmest})],anchor:[B.l0.position.absolute,B.l0.top("50%"),B.l0.width(1),B.l0.height(1)]});function Jt(e){var n=e.title,t=e.children,r=e.id,o=e.setInView,l=e.outline,a=void 0===l||l,s=I.useRef(null),c=(0,Et.Y)(s,{margin:"-20% 0px -79% 0px"});return I.useEffect((function(){c&&o(r)}),[r,c,o]),(0,i.BX)(b.G,{css:Kt.sectionWrapper,id:r,innerRef:s,children:[n?(0,i.tZ)(Z.h4,{level:2,variant:"headerDefault",children:n}):null,(0,i.tZ)(b.G,{tag:"section",css:a?Kt.section:null,children:t})]})}},53570:function(e,n,t){t.d(n,{Z:function(){return m}});var r=t(74985),o=t(50959),i=t(94784),l=t(52656),a=t(25404),s=t(34809),c=t(32905),u=t(26473),d=t(88965),h=t(53312),p=(0,t(61025).X)({dropContainer:[d.l0.position.relative,{textAlign:"center","& label":{transition:"0.25s"},"&:hover label":{opacity:1}}],overlayLabel:[d.l0.flex.row,d.l0.center,d.l0.backgroundColor.backgroundOverlay,d.l0.borderRadius("full"),{opacity:0,position:"absolute",top:0,left:0,width:"100%",height:"100%",cursor:"pointer"}],uploadInput:{width:1,height:0,opacity:0,overflow:"hidden"}});function m(e){var n=e.currentUser,t=e.onChange,m=e.thickBorder,f=(0,a.Z)(),v=f.showError,g=f.showConfirm,Z=(0,o.useState)(n.image),y=Z[0],b=Z[1];(0,o.useEffect)((function(){return b(n.image)}),[n.image]);var x=(0,l.Z)({onUpload:function(e){var n=e.id;return t({imageId:n})},onUploadPreview:function(e){var n=e.dataUrl;b(n),g("Uploading profile image")},onError:function(e){return v(e.message)}});return(0,r.tZ)(u.G,{children:n.hasPrivacyRole?(0,r.tZ)(i.Z,{size:"inherit",url:y}):(0,r.BX)(u.G,{css:[p.dropContainer,{"& div":{border:m?"4px solid ".concat(d.TV.backgroundRoot):"auto"}}],onDrop:function(e){var n,t;e.preventDefault();var r=null===(n=e.dataTransfer)||void 0===n||null===(t=n.files)||void 0===t?void 0:t[0];if(r){if(!r.type.startsWith("image/"))return v("Expected an image file");x.uploadImage(r,c.N.ProfileImage)}},onDragOver:function(e){return e.preventDefault()},children:[(0,r.tZ)(i.Z,{size:"inherit",url:y}),(0,r.BX)("label",{css:p.overlayLabel,children:[(0,r.tZ)("input",{accept:s.W9.join(","),type:"file",onChange:function(e){var n=e.target,t=n.validity.valid,r=n.files;(null===r||void 0===r?void 0:r.length)&&t&&x.uploadImage(r[0],c.N.ProfileImage)},css:p.uploadInput}),(0,r.tZ)(h.xv,{multiline:!1,children:"Drag or upload"})]})]})})}},8942:function(e,n,t){var r=t(2272),o=t(74985),i=t(95141),l=t(20685),a=t(6108),s=t(55418),c=t(53312),u=t(26473),d=t(61025),h=t(27773),p=t(76092),m=t(79824),f=t(88965),v=t(50959),g=t(44273),Z=t(38016),y=u.K.label,b=(0,d.X)({container:[f.l0.colWithGap(12)],labeledInput:[f.l0.colWithGap(8)],mobilePhoneInput:[f.l0.colWithGap(8),{".PhoneInput":[f.l0.display.flex,f.l0.rowWithGap(4),a.gU.filledAndOutlined,f.l0.px(8),f.l0.py(4),f.l0.color.foregroundDefault,{".PhoneInputCountry":[f.l0.rowWithGap(4),f.l0.display.flex,f.l0.align.center,f.l0.flex.shrink(1),f.l0.position.relative,{".PhoneInputCountryIcon":[f.l0.width(16),f.l0.height(12),{".PhoneInputCountryIconImg":[f.l0.display.block,f.l0.width("100%"),f.l0.height("100%")]}],".PhoneInputCountrySelect":[f.l0.position.absolute,f.l0.top(0),f.l0.left(0),f.l0.width("100%"),f.l0.height("100%"),{opacity:0,zIndex:1,cursor:"pointer"}],".PhoneInputCountrySelectArrow":[f.l0.display.block,f.l0.width(8),f.l0.height(8),f.l0.mx(2),f.l0.mb(4),{content:'""',borderStyle:"solid",borderColor:f.TV.foregroundDefault,borderTopWidth:0,borderBottomWidth:1,borderLeftWidth:0,borderRightWidth:1,transform:"rotate(45deg)"}]}],".PhoneInputInput":[f.l0.flex.grow(1),{appearance:"none",background:"transparent",border:0,"&:focus":{outline:0}}]}]}],buttonFooter:[f.l0.colWithGap(8),f.l0.align.start],footerMessage:[f.l0.rowWithGap(4),f.l0.align.center,f.l0.color.foregroundDimmer],linkButton:[f.l0.reset.button,f.l0.p(0),f.l0.color.accentPrimaryStronger,f.l0.focusRing,{"&:hover":[f.l0.cursor.pointer,f.l0.color.accentPrimaryStrongest]}]});n.Z=function(e){var n=e.onSuccess,t=e.context,a=(0,v.useId)(),d=(0,r.Z)((0,Z.a)({onSuccess:n,context:t}),2),f=d[0],x=d[1],w=x.reset,C=x.submitPhoneNumber,U=x.submitCode,G=x.handleCodeChange,B=x.handlePhoneNumberChange,S=f.phoneNumber?(0,g.tm)(f.phoneNumber):void 0,T=f.mode,I=f.phoneNumber,P=f.code,D=f.error,M=f.loading;return(0,o.BX)(u.G,{css:b.container,children:[(0,o.tZ)(c.h4,{level:3,variant:"subheadDefault",children:"success"===T?"Your account has been verified":"Verify your identity"}),"phone-input"===T?(0,o.BX)(u.G,{tag:"form",css:b.container,onSubmit:function(e){e.preventDefault(),C()},children:[(0,o.tZ)(c.xv,{color:"dimmer",children:"Add a verified phone number to unlock features like Autoscale deployments."}),(0,o.BX)(u.G,{css:b.mobilePhoneInput,children:[(0,o.tZ)(y,{children:"Mobile number"}),(0,o.tZ)(g.ZP,{addInternationalOption:!1,countryCallingCodeEditable:!1,defaultCountry:"US",international:!0,onChange:B,value:I})]}),D?(0,o.tZ)(s.E,{colorway:"warning",icon:(0,o.tZ)(m.Z,{}),text:D}):null,(0,o.tZ)(i.zx,{type:"submit",colorway:"primary",disabled:!I||!S||M,text:"Send message",loading:M,iconLeft:M?(0,o.tZ)(h.Z,{}):void 0}),(0,o.BX)(u.G,{tag:"footer",css:b.footerMessage,children:[(0,o.tZ)(p.Z,{}),(0,o.tZ)(c.xv,{color:"dimmer",children:"We never share your phone number."})]})]}):null,"code-input"===T?(0,o.BX)(u.G,{tag:"form",css:b.container,onSubmit:function(e){e.preventDefault(),U()},children:[(0,o.BX)(c.xv,{color:"dimmer",children:["We just sent a verification code to ",I,". Enter the code below."]}),(0,o.BX)(u.G,{css:b.labeledInput,children:[(0,o.tZ)(y,{htmlFor:a,children:"Verification code"}),(0,o.tZ)(l.II,{id:a,name:"code",type:"number",value:P,onChange:function(e){return G(e.currentTarget.value)},minLength:6,maxLength:6,required:!0})]}),D?(0,o.tZ)(s.E,{colorway:"warning",icon:(0,o.tZ)(m.Z,{}),text:D}):null,(0,o.tZ)(i.zx,{type:"submit",colorway:"primary",disabled:!P||M,text:"Confirm code",loading:M,iconLeft:M?(0,o.tZ)(h.Z,{}):void 0}),(0,o.BX)(u.G,{css:b.buttonFooter,tag:"footer",children:[(0,o.BX)(u.G,{css:b.footerMessage,children:[(0,o.tZ)(c.xv,{children:"Didn't get the code?"}),(0,o.tZ)("button",{disabled:M,css:b.linkButton,onClick:function(){return C()},type:"button",children:"Resend the code"})]}),(0,o.tZ)("button",{disabled:M,css:b.linkButton,onClick:w,type:"button",children:"Use a different phone number"})]})]}):null,"success"===T?(0,o.tZ)(c.xv,{children:"You have successfully verified your account and unlocked the full potential of Replit."}):null]})}},60819:function(e,n,t){var r=t(2272),o=t(74985),i=t(50959),l=t(26473),a=t(88965),s=t(53312),c=t(36433);n.Z=function(e){var n=e.feature,t=(0,r.Z)(i.useState(!1),2),u=t[0],d=t[1];return(0,o.BX)(o.HY,{children:[(0,o.tZ)(l.G,{onClick:function(){return d(!u)},children:(0,o.tZ)(s.xv,{multiline:!1,css:[a.l0.fontSize("inherit"),a.l0.color.accentPrimaryStronger,a.l0.cursor.pointer,{":hover":{color:a.TV.accentPrimaryStrongest}}],children:"Share feedback"})}),(0,o.tZ)(c.Z,{feature:n,isOpen:u,setOpen:d})]})}},59751:function(e,n,t){t.d(n,{Z:function(){return R}});var r=t(72006),o=t(4405),i=t(2272),l=t(9970),a=t(74985),s=t(43312),c=t(80703),u=t(2075),d=t(60200),h=t(51467),p=t(84730),m=t(56123),f=t(6108),v=t(53312),g=t(26473),Z=t(27773),y=t(3282),b=t(88965),x=t(21371),w=t(50959),C=t(43119),U=t(71440),G=t(24635);function B(){var e=(0,C.Z)(["\n  fragment ReplSelectorRepl on Repl {\n    id\n    title\n    timeUpdated\n    url\n    slug\n    owner {\n      ... on User {\n        id\n        username\n        image\n        fullName\n      }\n      ... on Team {\n        id\n        username\n        image\n      }\n    }\n    iconUrl\n    templateLabel\n  }\n"]);return B=function(){return e},e}function S(){var e=(0,C.Z)(["\n  query ReplSelector(\n    $search: String!\n    $excludePrivate: Boolean\n    $excludeMultiplayer: Boolean\n  ) {\n    currentUser {\n      id\n      replSearch(\n        search: $search\n        excludePrivate: $excludePrivate\n        excludeMultiplayer: $excludeMultiplayer\n      ) {\n        id\n        ...ReplSelectorRepl\n      }\n    }\n  }\n  ","\n"]);return S=function(){return e},e}var T={},I=(0,U.Ps)(B()),P=(0,U.Ps)(S(),I);var D=g.K.input,M=g.K.div,k=g.K.li,X=(0,s.iv)([f.gU.filled,b.l0.p(8),{color:b.TV.foregroundDefault,border:"0 none",outline:"0 none",fontSize:b.TV.fontSizeDefault,lineHeight:"16px",display:"block",width:"100%","::placeholder":{color:b.TV.foregroundDimmer},":not([disabled])":{cursor:"text"}}]);function R(e){var n,t=e.id,s=e.disabled,f=e.filter,C=e.manualSelect,U=e.excludePrivate,B=e.excludeMultiplayer,S=e.onSelect,I=e.selectedIconOverride,R=e.showComboBox,_=void 0===R||R,A=(0,i.Z)(w.useState([]),2),E=A[0],W=A[1],N=(0,i.Z)(w.useState(""),2),V=N[0],z=N[1],L=w.useRef(null),j=f?E.filter(f):E,q=(0,x.Kb)({items:j,initialHighlightedIndex:C?-1:0,itemToString:function(e){var n;return e?"".concat(null===(n=e.owner)||void 0===n?void 0:n.username,"/").concat(e.title):""}});w.useEffect((function(){return z(q.inputValue)}),[q.inputValue]);var O=function(e){var n=(0,r.Z)({},T,e);return G.a(P,n)}({variables:{search:(0,d.Z)(V,100),excludePrivate:U,excludeMultiplayer:B},onCompleted:function(e){if(!e.currentUser)throw new Error("Expected currentUser");e.currentUser.replSearch?W(e.currentUser.replSearch.reduce((function(e,n){return n?(0,l.Z)(e).concat([n]):e}),[])):W([])}}).loading,Y=(0,h.Z)(S);w.useEffect((function(){var e;q.selectedItem&&(null===(e=L.current)||void 0===e||e.blur(),Y.current(q.selectedItem))}),[q.selectedItem,Y]);var $=(null===(n=q.selectedItem)||void 0===n?void 0:n.iconUrl)&&q.inputValue?(0,a.tZ)(g.G,{css:[b.l0.px(8),b.l0.center,{position:"absolute",top:0,left:0,height:"100%"}],children:I||(0,a.tZ)(m.ZP,{alt:q.selectedItem.title,iconUrl:q.selectedItem.iconUrl,size:16})}):null;return(0,a.BX)(g.G,{css:[{position:"relative"}],children:[(0,a.BX)(M,(0,o.Z)((0,r.Z)({},q.getComboboxProps()),{css:{position:"relative"},children:[$,(0,a.tZ)(D,(0,r.Z)({css:[X,b.l0.pr(32),$&&b.l0.pl(32)]},q.getInputProps({ref:L,id:t,placeholder:"Search for a Repl",onFocus:_?function(e){q.selectedItem&&(e.preventDefault(),e.currentTarget.select(),z("")),q.openMenu()}:void 0}))),(0,a.tZ)(g.G,{css:[b.l0.center,b.l0.px(8),{position:"absolute",top:0,right:0,height:"100%"}],children:(0,a.tZ)(y.Z,{})})]})),(0,a.tZ)(M,(0,o.Z)((0,r.Z)({},q.getMenuProps()),{css:{position:"relative"},children:q.isOpen&&!s?(0,a.BX)(c.Z,{children:[O?(0,a.tZ)(k,{css:[b.l0.center,b.l0.py(32)],children:(0,a.tZ)(Z.Z,{})}):null,j.length||O?null:(0,a.tZ)(k,{css:[b.l0.center,b.l0.py(32)],children:(0,a.BX)(v.xv,{color:"dimmer",variant:"small",multiline:!1,children:["No ",E.length>0?"more ":null,"repls found"]})}),j.map((function(e,n){return(0,a.tZ)(k,(0,o.Z)((0,r.Z)({},q.getItemProps({item:e,index:n})),{children:(0,a.tZ)(u.Z,{taller:!0,filter:V,title:e.title,subtitle:(0,p.F)(e.timeUpdated),selected:q.selectedItem===e,highlighted:q.highlightedIndex===n,icon:e.iconUrl?(0,a.tZ)(m.ZP,{iconUrl:e.iconUrl,alt:e.title,size:16}):void 0})}),e.id)}))]}):null}))]})}},23618:function(e,n,t){var r=t(57135),o=t(96583),i=t(74985),l=t(35291),a=t(50959),s=t(94376),c=t(62219),u=t(29818);n.Z=function(e){var n=e.context,t=e.title,d=void 0===t?"Outbound Data Transfer":t,h=e.titleShort,p=void 0===h?"Data Transfer":h,m=(0,a.useState)(),f=m[0],v=m[1],g=(0,a.useState)(),Z=g[0],y=g[1],b=(0,a.useState)(!1),x=b[0],w=b[1],C=(0,a.useState)(""),U=C[0],G=C[1],B=function(e){var n;if("CurrentUser"===(null===(n=e.currentUser)||void 0===n?void 0:n.__typename))switch(e.currentUser.egress.__typename){case"UserEgressSummary":v(e.currentUser.egress),G(e.currentUser.username);break;case"UnauthorizedError":case"UserError":y(e.currentUser.egress.message);break;default:y("Unexpected response")}else y("Unexpected response")},S=(0,s.FX)({onCompleted:B,onError:function(e){y(e.message)}}),T=S.loading,I=S.refetch,P=function(){var e=(0,r.Z)((function(){var e,n;return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,I()];case 1:return(e=t.sent()).error?y(e.error.message):e.errors?y("Something unexpected happened, please try again"):B(e.data),[3,3];case 2:return n=t.sent(),y(n.message),[3,3];case 3:return[2]}}))}));return function(){return e.apply(this,arguments)}}(),D=f?Number(f.monthly.usage):0,M=f?Number(f.monthly.limit):0,k=f?(0,c._4)(f.monthly):void 0,X="Bytes",R=0!==M?"".concat((0,l.fZ)(D,{forceGib:!0,precision:1,skipUnits:!0,resourceUsageType:X})," / ").concat((0,l.fZ)(M,{forceGib:!0,precision:1,resourceUsageType:X})):"".concat((0,l.fZ)(D,{precision:1,resourceUsageType:X})),_=f&&f.monthly.isThrottled?"Bandwidth for your Repls is being throttled. Increase\n        your limit to resume normal speeds.":void 0,A="Resets on ".concat(null===f||void 0===f?void 0:f.monthly.resets),E={showUpgradeModal:x,setShowUpgradeModal:w,onPotentialLimitChange:P,limitEnforcementMessage:!f||f.monthly.showUpgrade||f.monthly.isEnforced?void 0:"Limit not yet enforced"};return(0,i.tZ)(u.Z,{context:n,title:d,titleShort:p,infoTooltipMessage:"Similar to bandwidth, outbound data transfer is the amount\n      of data that our servers send to your Repls' users and\n      external services.",totalUsageMessage:R,throttlingTooltipMessage:_,resourceSummary:k,resourceUsageType:X,username:U,statusMessage:A,errorMessage:Z,loading:T,upgradeModalProps:E})}},29818:function(e,n,t){var r=t(57389),o=t(74985),i=t(70135),l=t(95141),a=t(55418),s=t(37268),c=t(53312),u=t(61623),d=t(26473),h=t(61025),p=t(3689),m=t(27773),f=t(79824),v=t(88965),g=t(79451),Z=t(84786),y=t(3861),b=(0,h.X)({self:[v.l0.colWithGap(12),v.l0.flex.growAndShrink(1)]});n.Z=function(e){var n=e.context,t=e.title,h=e.titleShort,x=e.infoTooltipMessage,w=e.totalUsageMessage,C=e.throttlingTooltipMessage,U=e.resourceSummary,G=e.resourceUsageType,B=e.username,S=e.statusMessage,T=e.placeholderMessage,I=e.errorMessage,P=e.loading,D=e.upgradeModalProps,M=e.overageSummary,k=e.overageIndicator;return(0,o.BX)(s.Tg,{css:b.self,children:[P?(0,o.tZ)(d.G,{css:[v.l0.justify.center,v.l0.flex.row],children:(0,o.tZ)(m.Z,{})}):null,I?(0,o.tZ)(a.E,{colorway:"negative",text:I}):null,U?(0,o.BX)(o.HY,{children:[(0,o.BX)(d.G,{tag:"header",css:[v.l0.rowWithGap(16),v.l0.align.center,v.l0.justify.spaceBetween,(0,r.Z)({},(0,g.EM)("mobileMax"),[v.l0.flex.wrap])],children:[(0,o.BX)(d.G,{css:[v.l0.rowWithGap(4),v.l0.align.center],children:[(0,o.tZ)(c.xv,{multiline:!1,variant:"subheadDefault",css:[v.l0.display.flex,(0,r.Z)({},(0,g.EM)("mobileMax"),[v.l0.display.none])],children:t}),(0,o.tZ)(c.xv,{multiline:!1,variant:"subheadDefault",css:[v.l0.display.none,(0,r.Z)({},(0,g.EM)("mobileMax"),{display:"unset"})],children:h}),(0,o.tZ)(u.u,{tooltip:(0,o.tZ)(c.xv,{children:x}),children:(0,o.tZ)(p.Z,{css:[(0,r.Z)({},(0,g.EM)("mobileMax"),[v.l0.display.none])]})})]}),(0,o.BX)(d.G,{css:[v.l0.rowWithGap(4),v.l0.align.center],children:[C?(0,o.tZ)(u.u,{tooltip:(0,o.tZ)(c.xv,{children:C}),children:(0,o.tZ)(f.Z,{color:"red"})}):null,k||(0,o.tZ)(o.HY,{children:w?(0,o.tZ)(c.xv,{color:"dimmer",css:[v.l0.py(1)],multiline:!1,children:w}):null})]})]}),(0,o.tZ)(d.G,{children:(0,o.tZ)(Z.$,{summary:U,context:{type:"cycles_page"===n?n:"account_page"},username:B,resourceUsageType:G})}),M?(0,o.tZ)(d.G,{children:M}):null,T?(0,o.tZ)(d.G,{children:(0,o.tZ)(c.xv,{color:"dimmest",children:T})}):null,S||D?(0,o.BX)(d.G,{tag:"footer",css:[v.l0.rowWithGap(16),v.l0.justify.spaceBetween,v.l0.align.center],children:[S?(0,o.tZ)(c.xv,{color:"dimmest",multiline:!1,children:S}):null,D?(0,o.BX)(o.HY,{children:[(0,o.tZ)(l.zx,{colorway:"primary",text:"Increase Limit",iconLeft:(0,o.tZ)(y.Z,{}),onClick:function(){return D.setShowUpgradeModal(!D.showUpgradeModal)}}),D.limitEnforcementMessage?(0,o.tZ)(c.xv,{color:"dimmest",multiline:!1,children:D.limitEnforcementMessage}):null]}):null]}):null]}):null,D?(0,o.tZ)(i.Z,{isOpen:D.showUpgradeModal,context:n,powerUp:"egress",uponPurchaseGoTo:"account_resource_usage"===n?"account":"cyclesPage",onRequestClose:function(){D.setShowUpgradeModal(!1),D.onPotentialLimitChange()}}):null]})}},22652:function(e,n,t){t.d(n,{S:function(){return m}});var r=t(74985),o=t(44225),i=t(25149),l=t(15597),a=t(16296),s=t(53312),c=t(26473),u=t(61025),d=t(89138),h=t(88965),p=(0,u.X)({paymentMethodFormContainer:[h.l0.colWithGap(16)],paymentMethodFormHeader:[h.l0.rowWithGap(8),h.l0.align.center]});function m(){var e=(0,l.P)({step:"card_preferences"}),n=e.currentStep,t=e.goBack,u=e.goTo;switch(n.step){case"card_preferences":return(0,r.tZ)(o.t,{goToNewPaymentMethodForm:function(){return u({step:"new_payment_method_form"})},showUsageSettingsBudget:!0});case"new_payment_method_form":return(0,r.BX)(c.G,{css:p.paymentMethodFormContainer,children:[(0,r.BX)(c.G,{css:p.paymentMethodFormHeader,children:[(0,r.tZ)(a.hU,{alt:"Back",onClick:t,children:(0,r.tZ)(d.Z,{})}),(0,r.tZ)(s.xv,{variant:"subheadDefault",multiline:!1,children:"Update Payment Method"})]}),(0,r.tZ)(i.q,{onSuccess:t,context:"account_page"})]})}}},87136:function(e,n,t){t.d(n,{r:function(){return j}});var r=t(72006),o=t(4405),i=t(74985),l=t(50959),a=t(61025),s=t(88965),c=t(37268),u=t(53312),d=t(26473),h=t(68877),p=t(35291),m=t(84786),f=t(27773),v=t(62219),g=t(70135),Z=t(2272),y=t(51631),b=t(92470),x=t(92369),w=t(30638),C=t(29262),U=t(95134),G=t(8500),B=t(2580),S=t(16296),T=t(17436),I=(0,a.X)({self:[s.l0.rowWithGap(4),s.l0.align.center]}),P=function(e){var n=(0,T.Q)(),t=D(e,n),r=t.quotaText,o=t.attribution;return(0,i.BX)(d.G,{css:I.self,children:[(0,i.tZ)(u.xv,{color:"dimmer",children:r}),(0,i.tZ)(U.D,{text:o}),"sku"in e?(0,i.tZ)(S.hU,{onClick:e.onRequestDelete,alt:"Remove add-on storage",children:(0,i.tZ)(B.Z,{})}):null]})},D=function(e,n){if("sku"in e)return{quotaText:"+".concat(C.zd[e.sku],"GiB"),attribution:"Add-on"};var t=e.userSubscriptionType,r=t?C.XR[t]:C.XR.FREE;return{quotaText:"".concat(r,"GiB"),attribution:(0,G.s)(t,n)}},M=t(2230),k=t(25404),X=t(21651),R=t(95141),_=t(44385),A=t(49328),E=t(55418),W=t(79824),N=(0,a.X)({self:[s.l0.rowWithGap(16),s.l0.justify.spaceBetween,s.l0.align.center],quotaBreakdownAndActions:[s.l0.rowWithGap(12)],deleteModalActions:[s.l0.rowWithGap(12),s.l0.justify.end],deleteModalContent:[s.l0.colWithGap(12)],deleteModal:[s.l0.colWithGap(16)]}),V=function(e){var n=e.username,t=e.setShowUpgradeModal,a=e.userSubscriptionType,s=e.currentSku,c=e.quotaInBytes,p=e.totalInBytes,m=(0,k.Z)(),f=m.showError,v=m.showConfirm,g=(0,l.useState)(!1),U=g[0],G=g[1],B=(0,Z.Z)((0,M.iE)({onError:function(e){return f(e.message)},onCompleted:function(e){"ManageStorageAddOnOutput"===e.manageStorageAddOn.__typename?(v("Storage add-on removed."),G(!1)):f(e.manageStorageAddOn.message)},refetchQueries:[h.P1]}),2),S=B[0],T=B[1].loading,I=a===y.HP.HackerPro,D=!!s&&c-C.zd[s]*C.lb<p;return(0,i.BX)(d.G,{css:N.self,children:[(0,i.tZ)(x.Z,(0,o.Z)((0,r.Z)({},(0,b.Ru)(n)),{text:"Manage Repls"})),(0,i.BX)(d.G,{css:N.quotaBreakdownAndActions,children:[(0,i.tZ)(P,{userSubscriptionType:a}),s?(0,i.tZ)(P,{sku:s,onRequestDelete:function(){return G(!0)}}):null,(0,i.tZ)(w.U,{isPro:I,setShowUpgradeModal:t,source:"account_storage_footer_upgrade_button"})]}),s?(0,i.tZ)(X.u,{centered:!0,isOpen:U,onRequestClose:function(){return G(!1)},children:(0,i.BX)(d.G,{css:N.deleteModal,children:[(0,i.BX)(u.xv,{variant:"headerDefault",children:["Remove ",C.zd[s],"GiB additional storage?"]}),(0,i.BX)(d.G,{css:N.deleteModalContent,children:[(0,i.BX)(u.xv,{children:["This additional storage costs ",(0,C.d_)(s)," ","Cycles (",(0,A.b)(s),") per month."]}),D?(0,i.tZ)(E.E,{colorway:"orange",icon:(0,i.tZ)(W.Z,{}),text:"You\u2019re using more storage than the amount this change will give you. You won\u2019t be able to add new files unless you delete existing files."}):null]}),(0,i.BX)(d.G,{css:N.deleteModalActions,children:[(0,i.tZ)(R.zx,{text:"Cancel"}),(0,i.tZ)(R.zx,{loading:T,colorway:"primary",text:"Yes, remove storage",iconLeft:(0,i.tZ)(_.Z,{}),onClick:function(){S({variables:{input:{setting:y.F$.Off}}})}})]})]})}):null]})},z=t(12273),L=(0,a.X)({self:[s.l0.colWithGap(12),s.l0.flex.growAndShrink(1)],loadingWrapper:[s.l0.center],errorMessage:[s.l0.width("100%"),s.l0.center,{alignSelf:"center",justifySelf:"center"}],header:[s.l0.rowWithGap(16),s.l0.align.center,s.l0.justify.spaceBetween],footerActions:[s.l0.rowWithGap(8),s.l0.justify.spaceBetween,s.l0.align.center]}),j=function(e){var n,t=e.context,a=e.title,s=void 0===a?"Storage":a,Z=(0,l.useState)(!1),y=Z[0],b=Z[1],x=(0,h.Pf)({fetchPolicy:"network-only",ssr:!1,notifyOnNetworkStatusChange:!0}),w=x.data,C=x.loading,U=x.refetch;if(C&&!w)return(0,i.tZ)(c.Tg,{css:L.self,children:(0,i.tZ)(d.G,{css:L.loadingWrapper,children:(0,i.tZ)(f.Z,{})})});if(w&&"CurrentUser"===(null===(n=w.currentUser)||void 0===n?void 0:n.__typename)&&"StorageQuota"===w.currentUser.storageInfo.storageQuota.__typename&&"StorageGracePeriodQuota"===w.currentUser.storageInfo.storageGracePeriodQuota.__typename&&"AccountStorageUtilization"===w.currentUser.storageInfo.accountStorageUtilization.__typename&&"UserPowerUpsTypes"===w.currentUser.userPowerUpsByType.__typename){var G,B,S=w.currentUser.storageInfo,T=S.accountStorageUtilization,I=S.storageQuota.quota,P=T.total,D="Bytes",M="".concat((0,p.fZ)(Number(P),{forceGib:!0,precision:1,resourceUsageType:D})),k="0"===I?M:"".concat(M," / ").concat((0,p.fZ)(Number(I),{forceGib:!0,precision:1,resourceUsageType:D})),X=null!==(G=w.currentUser.userSubscriptionType)&&void 0!==G?G:void 0,R=null!==(B=w.currentUser.userPowerUpsByType.storage.currentSku)&&void 0!==B?B:void 0,_=w.currentUser.username;return(0,i.BX)(c.Tg,{css:L.self,children:[(0,i.BX)(d.G,{css:L.header,children:[(0,i.tZ)(u.xv,{variant:"subheadDefault",multiline:!1,children:s}),(0,i.tZ)(u.xv,{color:"dimmer",multiline:!1,children:k})]}),(0,i.tZ)(m.$,{context:{type:t},summary:(0,v._4)((0,o.Z)((0,r.Z)({},T),{quota:I})),username:_,resourceUsageType:D}),(0,i.tZ)(z.q,{}),(0,i.tZ)(V,{username:_,setShowUpgradeModal:b,userSubscriptionType:X,currentSku:R,quotaInBytes:Number(I),totalInBytes:Number(P)}),(0,i.tZ)(g.Z,{isOpen:y,context:t,powerUp:"storage",uponPurchaseGoTo:"account",onRequestClose:function(){U(),b(!1)}})]})}return(0,i.BX)(d.G,{css:L.self,children:[(0,i.tZ)(q,{total:"0"}),(0,i.tZ)(d.G,{css:L.errorMessage,children:(0,i.tZ)(u.xv,{color:"dimmest",multiline:!1,children:"We had trouble loading your storage information. Please try again later."})})]})},q=function(e){var n=e.total;return(0,i.BX)(d.G,{css:L.header,children:[(0,i.tZ)(u.xv,{variant:"subheadDefault",multiline:!1,children:"Storage"}),(0,i.tZ)(u.xv,{color:"dimmer",multiline:!1,children:(0,p.fZ)(Number(n),{forceGib:!0,resourceUsageType:"Bytes"})})]})}}}]);
//# sourceMappingURL=937-f558bc330cb18578.js.map