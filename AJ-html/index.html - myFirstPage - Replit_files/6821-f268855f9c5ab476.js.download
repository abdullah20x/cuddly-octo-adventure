!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="510e8fdb-2bff-40ae-a2a9-3bead022f6ca",e._sentryDebugIdIdentifier="sentry-dbid-510e8fdb-2bff-40ae-a2a9-3bead022f6ca")}catch(e){}}();var _global="undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};_global.SENTRY_RELEASE={id:"dd1337ad"},(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6821],{84786:function(e,n,t){t.d(n,{X:function(){return Y},$:function(){return Q}});var r=t(2272),a=t(9970),l=t(74985),i=t(50959),o=t(26473),u=t(61025),s=t(88965),c=t(57389),d=t(72006),g=t(4405),f=s.tX.categorical,p=.0075,m=t(25999),h=t(82893),y=t.n(h),v=t(1797),B=t(61623),U=t(53312),Z=t(35291),b=t(56123),w=(0,u.X)({self:[s.l0.rowWithGap(8),s.l0.align.center],dot:[s.l0.width(8),s.l0.height(8),{borderRadius:"50%"}],title:[s.l0.flex.grow(1)]}),_=function(e){var n=e.title,t=e.usage,r=e.resourceUsageType,a=e.iconUrl;return(0,l.BX)(o.G,{css:w.self,children:["string"===typeof a?(0,l.tZ)(b.ZP,{size:16,iconUrl:a,alt:n}):null,(0,l.tZ)(U.xv,{css:w.title,multiline:!1,children:n}),(0,l.tZ)(U.xv,{color:"dimmer",multiline:!1,children:(0,Z.fZ)(t,{resourceUsageType:r})})]})},S=(0,u.X)({self:[s.l0.height("100%")],empty:[s.l0.height("100%")]}),x=o.K.a,P=function(e){var n=e.percentage,t=e.color,r=e.linkedRepl,a=e.count,o=e.usage,u=e.resourceUsageType,s=r?(0,m.aq)(r):v.$I,f=(0,i.useState)(!1),p=f[0],h=f[1];return(0,l.tZ)(B.u,{tooltip:r?(0,l.tZ)(_,{title:r.title,usage:o,resourceUsageType:u,iconUrl:r.iconUrl}):(0,l.tZ)(_,{title:"+".concat(a," more"),usage:o,resourceUsageType:u}),placement:"top",delay:"none",isOpen:p,maxWidth:400,children:function(e,r){return(0,l.tZ)(y(),(0,g.Z)((0,d.Z)({legacyBehavior:!0},s),{passHref:!0,children:(0,l.tZ)(x,{onMouseOver:function(){return h(!0)},onMouseLeave:function(){return h(!1)},ref:r,css:S.self,style:(0,c.Z)({minWidth:"calc(".concat(.75,"%)"),width:"calc(".concat(n,"% - 1px)"),backgroundColor:t},"&:lastOfType",{width:"".concat(n,"%")})})}))}})},k=t(94979),C=t(16296),R=t(91625),G=t(25593),T=t(92470),E=t(79451),M=(0,u.X)({self:[s.l0.rowWithGap(8),s.l0.align.center],dot:[s.l0.flex.grow(1),s.l0.width(8),s.l0.height(8),s.l0.minWidth(8),s.l0.maxHeight(8),{borderRadius:"50%"}],title:[s.l0.flex.grow(1),s.l0.color.foregroundDefault,(0,c.Z)({},(0,E.EM)("mobileMax"),[s.l0.flex.shrink(1),s.l0.truncate])],line:[s.l0.flex.growAndShrink(1),s.l0.height(8),s.l0.width("100%"),(0,c.Z)({},(0,E.EM)("mobileMax"),[s.l0.flex.shrink(4)])]}),I=o.K.a,V=o.K.li,X=function(e){var n=e.color,t=e.title,r=e.usage,a=e.resourceUsageType,i=e.linkedRepl,u=e.username,c=i?(0,m.aq)(i):(0,T.Ru)(u);return(0,l.tZ)(V,{children:(0,l.tZ)(y(),(0,g.Z)((0,d.Z)({legacyBehavior:!0},c),{passHref:!0,children:(0,l.tZ)(I,{children:(0,l.BX)(o.G,{css:M.self,children:[(0,l.tZ)("div",{css:M.dot,style:{backgroundColor:n}}),i?(0,l.tZ)(b.ZP,{size:16,iconUrl:i.iconUrl,alt:t}):null,(0,l.tZ)(U.xv,{css:M.title,multiline:!1,children:t}),(0,l.tZ)(o.G,{css:M.line,children:(0,l.tZ)("svg",{width:"100%",xmlns:"http://www.w3.org/2000/svg",children:(0,l.tZ)("line",{x1:"0%",y1:"50%",x2:"100%",y2:"50%",stroke:s.TV.outlineDefault})})}),(0,l.tZ)(U.xv,{color:"dimmer",multiline:!1,children:(0,Z.fZ)(r,{resourceUsageType:a})})]})})}))})},z=(0,u.X)({self:[s.l0.colWithGap(4)]}),A=o.K.ul,D=function(e){var n=e.topRepls,t=e.groupedRepls,r=e.groupedTotal,a=e.context,i=e.username,u=e.resourceUsageType;if("workspace_info_modal"===a.type){var c=n.findIndex((function(e){return e.repl.id===a.replId}));return-1===c?(0,l.tZ)(o.G,{css:z.self,children:(0,l.tZ)(U.xv,{multiline:!1,children:"No storage usage"})}):(0,l.BX)(A,{css:z.self,children:[n.map((function(e,n){return(0,l.tZ)(X,{color:n===c?s.TV.accentPrimaryDefault:s.TV.accentPrimaryDimmer,title:e.repl.title,usage:e.usage,resourceUsageType:u,linkedRepl:e.repl,username:i},n)})),0!==t.length?(0,l.tZ)(X,{color:s.TV.backgroundHighest,title:"+".concat(t.length," more"),usage:r,resourceUsageType:u,username:i}):null]})}return(0,l.BX)(A,{css:z.self,children:[0===n.length?(0,l.tZ)(U.xv,{multiline:!1,children:"No resource usage"}):null,n.map((function(e,n){return(0,l.tZ)(X,{color:f[n%f.length],title:e.repl.title,usage:e.usage,resourceUsageType:u,linkedRepl:e.repl,username:i},n)})),0!==t.length?(0,l.tZ)(X,{color:f[n.length%f.length],title:"+".concat(t.length," more"),usage:r,resourceUsageType:u,username:i}):null]})},W=t(90602),H=[s.l0.width("100%"),s.l0.rowWithGap(1),s.l0.height(16),s.l0.borderRadius(4),s.l0.overflow("hidden"),s.l0.backgroundColor.backgroundHigher],L={small:(0,u.X)({bar:[H,s.l0.height(10)]}),base:(0,u.X)({bar:[H,s.l0.height(16)]})},N=(0,u.X)({selfPlaceholder:[s.l0.width("100%"),s.l0.rowWithGap(1),s.l0.height(16),s.l0.borderRadius(4),s.l0.overflow("hidden"),s.l0.backgroundColor.backgroundHigher,k.p.backgroundPulse(s.TV.backgroundHigher,s.TV.backgroundRoot)],barWrapper:[s.l0.flex.grow(1)],barAndTriggerWrapper:[s.l0.rowWithGap(8),s.l0.align.center],self:[s.l0.colWithGap(8),s.l0.flex.growAndShrink(1)]});var Q=function(e){var n=e.summary,t=e.context,u=e.username,c=e.resourceUsageType,d=e.overageSummary,g=e.small,m=function(e){return e.small?L.small:L.base}({small:g}),h=function(e){return e.small?12:24}({small:g}),y=(0,i.useState)(!1),v=y[0],B=y[1],U=n.perRepl,Z=n.total,b=n.limit,w=Math.max(Z,b),_=(0,a.Z)(U).filter((function(e){return e.percentage>0})).sort((function(e,n){return n.usage-e.usage})),S=(0,r.Z)(function(e,n){if("workspace_info_modal"!==n.type)return[e.slice(0,8),e.slice(8)];var t=e.findIndex((function(e){return e.repl.id===n.replId}));if(t<8)return[e.slice(0,8),e.slice(8)];var r=e[t];return[e.slice(0,8).concat(r),e.slice(8,t).concat(e.slice(t+1))]}(_,t),2),x=S[0],k=S[1],T=new Map(x.map((function(e){return[e.repl.id,e]}))),E=k.reduce((function(e,n){return e+n.usage}),0),M=function(e,n,t){var r=new Array,a=0,l=!0,i=!1,o=void 0;try{for(var u,s=e[Symbol.iterator]();!(l=(u=s.next()).done);l=!0){var c=u.value,d=Math.max(c.percentage,p),g=d-c.percentage;0!==g&&(a+=g),r.push({percentage:d,adjusted:0!==g,grouped:!1,replIds:new Set([c.repl.id])})}}catch(_){i=!0,o=_}finally{try{l||null==s.return||s.return()}finally{if(i)throw o}}var f=0===n?0:Math.max(n,p);if(f>0){var m=f-n;m>0&&(a+=m),r.push({percentage:f,adjusted:m>0,grouped:!0,replIds:t})}if(a>0){var h=r.filter((function(e){return!e.adjusted})),y=h.length;if(y>0){var v=a/y,B=!0,U=!1,Z=void 0;try{for(var b,w=h[Symbol.iterator]();!(B=(b=w.next()).done);B=!0)b.value.percentage-=v}catch(_){U=!0,Z=_}finally{try{B||null==w.return||w.return()}finally{if(U)throw Z}}}}return r}(x,0===w?0:E/w,new Set(k.map((function(e){return e.repl.id})))),I="workspace_info_modal"===t.type,V="cycles_page"===t.type?s.TV.backgroundHighest:s.TV.backgroundHigher,X=(0,l.tZ)(C.hU,{alt:v?"Hide Repls":"Show Repls",size:h,children:v?(0,l.tZ)(G.Z,{onClick:function(){return B(!v)},size:h}):(0,l.tZ)(R.Z,{onClick:function(){return B(!v)},size:h})}),z=M.length>0;return(0,l.BX)(o.G,{css:N.self,children:[(0,l.BX)(o.G,{css:N.barAndTriggerWrapper,children:[d||(0,l.tZ)(o.G,{css:N.barWrapper,children:(0,l.tZ)(o.G,{css:m.bar,style:{backgroundColor:V},children:M.map((function(e,n){var r,a=T.get(F(e));return(0,l.tZ)(P,{percentage:100*e.percentage,color:I?q(e,t.replId):f[n%f.length],linkedRepl:null===a||void 0===a?void 0:a.repl,count:e.replIds.size,usage:null!==(r=null===a||void 0===a?void 0:a.usage)&&void 0!==r?r:E,resourceUsageType:c},n)}))})}),z?X:null]}),z&&v?(0,l.BX)(l.HY,{children:[(0,l.tZ)(D,{topRepls:x,groupedRepls:k,groupedTotal:E,context:t,username:u,resourceUsageType:c}),I?(0,l.tZ)(W.R,{}):null]}):null]})},Y=function(){return(0,l.tZ)(o.G,{children:(0,l.tZ)(o.G,{css:N.selfPlaceholder})})},q=function(e,n){return e.replIds.has(n)?s.TV.accentPrimaryDefault:s.TV.accentPrimaryDimmest},F=function(e){return e.replIds.keys().next().value}},62219:function(e,n,t){t.d(n,{_4:function(){return i},lc:function(){return c},xk:function(){return s}});var r=t(72006),a=t(4405),l=t(70232),i=function(e){switch(e.__typename){case"AccountStorageUtilization":return o(e);case"MonthlyEgressSummary":return u(e);default:(0,l.Z)(e)}},o=function(e){var n=e.total,t=e.perRepl,r=e.quota;return{total:Number(n),limit:Number(r),perRepl:t.map(d)}},u=function(e){var n=e.usage,t=e.limit,r=e.perRepl;return{total:Number(n),limit:Number(t),perRepl:r.map(d)}};function s(){return{total:0,limit:0,perRepl:[]}}function c(e){var n=e.billingPeriodSummary,t=e.billableMetric,r={total:0,limit:0,perRepl:[]};if(null==n)return r;var a=n.totals.find((function(e){return e.billableMetric===t}));if(null==a)return r;var l=[],i=!0,o=!1,u=void 0;try{for(var s,c=n.perRepl[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var d=s.value,g=d.usage.find((function(e){return e.billableMetric===t}));if(null!=g){var f={usage:g.usage,percentage:g.percentage,repl:d.repl};l.push(f)}}}catch(p){o=!0,u=p}finally{try{i||null==c.return||c.return()}finally{if(o)throw u}}return r.total=a.usage,r.limit=a.freeUnits,r.perRepl=l,r}var d=function(e){return(0,a.Z)((0,r.Z)({},e),{usage:Number(e.usage)})}},35291:function(e,n,t){t.d(n,{$s:function(){return u},fZ:function(){return l},p6:function(){return o}});var r=t(70232),a=1048576,l=function(e,n){var t=n.resourceUsageType,r=n.forceGib,a=void 0!==r&&r,l=n.precision,o=void 0===l?4:l,u=n.skipUnits,s=void 0!==u&&u,c=n.additional,d=void 0!==c&&c,g=i({input:e,resourceUsageType:t,forceGib:a,precision:o});return s?g.formattedValue:d?[g.formattedValue,"additional",g.units].join(" "):[g.formattedValue,g.units].join(" ")},i=function(e){var n=e.input,t=e.resourceUsageType,l=e.forceGib,i=e.precision;switch(t){case"Bytes":return n>a||l?{formattedValue:u(n).toFixed(i),units:"GiB"}:{formattedValue:o(n).toFixed(i),units:"MiB"};case"GiB":return{formattedValue:n.toFixed(i),units:"GiB"};case"ComputeUnits":return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:0}),units:"compute units"};case"ComputeHours":return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:0}),units:"compute hours"};case"Requests":return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:0}),units:"Requests"};default:(0,r.Z)(t)}},o=function(e){return e/a},u=function(e){return e/1073741824}},28882:function(e,n,t){t.d(n,{L:function(){return v}});var r=t(57135),a=t(2272),l=t(96583),i=t(74985),o=t(15436),u=t(39071),s=t(95141),c=t(16296),d=t(20685),g=t(53312),f=t(26473),p=t(2580),m=t(88965),h=t(50959),y=t(22124);function v(e){var n,t,v,B=e.onUpdateSuccess,U=(0,h.useState)(null),Z=U[0],b=U[1],w=(0,o.Y)(null,(function(e){return null!=e&&e<y.M7?{message:"Monthly usage budget must be at least $".concat(y.M7)}:null!=e&&e%10!==0?{message:"Monthly usage budget must be a multiple of $10"}:void 0})),_=(0,h.useState)(null),S=_[0],x=_[1],P=(0,h.useState)(null),k=P[0],C=P[1],R=(0,u.Ql)({onCompleted:function(e){var n,t,r,a,l,i,o,u,s,c;"UsageBasedBillingBudget"===(null===(n=e.currentUser)||void 0===n||null===(t=n.usageBasedBillingBudget)||void 0===t?void 0:t.__typename)?(b(null!==(s=e.currentUser.usageBasedBillingBudget.monthlyBudgetUsd)&&void 0!==s?s:null),w.setValue(null!==(c=e.currentUser.usageBasedBillingBudget.monthlyBudgetUsd)&&void 0!==c?c:null),null!=B&&B()):"UnauthorizedError"===(null===(r=e.currentUser)||void 0===r||null===(a=r.usageBasedBillingBudget)||void 0===a?void 0:a.__typename)&&C(e.currentUser.usageBasedBillingBudget.message);if("UserUsageBasedBillingSummary"===(null===(l=e.currentUser)||void 0===l?void 0:l.usageBasedBilling.__typename)){var d,g,f=null!==(g=null===(d=e.currentUser.usageBasedBilling.currentBillingPeriod)||void 0===d?void 0:d.totals.reduce((function(e,n){return null!=n.overageCostsUSD?e+n.overageCostsUSD:e}),0))&&void 0!==g?g:null;x(f)}else"ServiceUnavailable"!==(null===(i=e.currentUser)||void 0===i?void 0:i.usageBasedBilling.__typename)&&"UnauthorizedError"!==(null===(o=e.currentUser)||void 0===o?void 0:o.usageBasedBilling.__typename)&&"UserError"!==(null===(u=e.currentUser)||void 0===u?void 0:u.usageBasedBilling.__typename)||C(e.currentUser.usageBasedBilling.message)}}),G=R.loading,T=(0,a.Z)((0,u.rF)({onCompleted:function(e){var n;"CurrentUser"===e.updateUsageBasedBillingBudget.__typename&&"UsageBasedBillingBudget"===(null===(n=e.updateUsageBasedBillingBudget.usageBasedBillingBudget)||void 0===n?void 0:n.__typename)&&(b(e.updateUsageBasedBillingBudget.usageBasedBillingBudget.monthlyBudgetUsd),w.setValue(e.updateUsageBasedBillingBudget.usageBasedBillingBudget.monthlyBudgetUsd)),"UnauthorizedError"!==e.updateUsageBasedBillingBudget.__typename&&"UserError"!==e.updateUsageBasedBillingBudget.__typename||C(e.updateUsageBasedBillingBudget.message)}}),2),E=T[0],M=T[1].loading,I=Z!==w.value,V=null!==(t=null===(n=w.error)||void 0===n?void 0:n.message)&&void 0!==t?t:null,X=null!==S&&null!==w.value&&w.value<=S?"You've already spent ".concat(S.toLocaleString("en-US",{style:"currency",currency:"USD"})," this billing period.\n  Increase your budget to avoid service interruption.\n  ").concat(I?" Saving your changes will suspend any active usage-based services.":""):null,z=null!==(v=null!==V&&void 0!==V?V:X)&&void 0!==v?v:null,A=function(){var e=(0,r.Z)((function(){var e,n,t;return(0,l.__generator)(this,(function(r){switch(r.label){case 0:return w.validate(),w.isValid?(C(null),[4,E({variables:{input:{monthlyBudgetUsd:w.value}}})]):[2];case 1:return e=r.sent(),n=e.data,null!=(t=e.errors)?(C(t[0].message),[2]):"UnauthorizedError"===(null===n||void 0===n?void 0:n.updateUsageBasedBillingBudget.__typename)||"UserError"===(null===n||void 0===n?void 0:n.updateUsageBasedBillingBudget.__typename)?(C(n.updateUsageBasedBillingBudget.message),[2]):(b(w.value),[2])}}))}));return function(){return e.apply(this,arguments)}}();return(0,i.BX)(f.G,{css:[m.l0.colWithGap(8)],children:[(0,i.tZ)(f.G,{css:[m.l0.rowWithGap(8),m.l0.align.center],children:null!=w.value?(0,i.BX)(i.HY,{children:[(0,i.tZ)(g.xv,{variant:"small",multiline:!1,css:m.l0.fontWeight.bold,children:"Monthly Usage Limit"}),(0,i.tZ)(d.II,{value:w.value>0?"$".concat(w.value.toLocaleString()):"$",css:[{height:28},m.l0.maxWidth(80)],maxLength:8,onChange:function(e){var n=e.target.value.replace(/\D/g,"");if(""!==n){var t=Number(n);w.setValue(t)}else w.setValue(0)}}),(0,i.tZ)(c.hU,{alt:"Remove Monthly Usage Budget",onClick:function(){w.setValue(null)},children:(0,i.tZ)(p.Z,{})})]}):(0,i.tZ)(s.zx,{size:"small",text:"Enable Monthly Usage Budget",onClick:function(){return w.setValue(null!==Z&&void 0!==Z?Z:100)}})}),z?(0,i.tZ)(g.xv,{variant:"small",css:[m.l0.color.accentNegativeStronger],multiline:!0,children:z}):null,k?(0,i.tZ)(g.xv,{variant:"small",css:[m.l0.color.accentNegativeStronger],multiline:!0,children:k}):null,I?(0,i.tZ)(s.zx,{text:"Save",colorway:"primary",onClick:A,disabled:G||M||null!=V}):null]})}},39071:function(e,n,t){t.d(n,{Ql:function(){return b},eD:function(){return B},rF:function(){return _}});var r=t(72006),a=t(43119),l=t(71440),i=t(24635),o=t(50216);function u(){var e=(0,a.Z)(["\n  fragment UserUsageBasedBillingTotals on UsageBasedBillingResourceUsageAndCosts {\n    __typename\n    billableMetric\n    freeUnits\n    usage\n    percentage\n    overageCostsUSD\n  }\n"]);return u=function(){return e},e}function s(){var e=(0,a.Z)(["\n  fragment UserUsageBasedBillingResourceReplUsage on UsageBasedBillingResourceReplUsage {\n    __typename\n    repl {\n      __typename\n      id\n      title\n      url\n      iconUrl\n      nextPagePathname\n    }\n    usage {\n      billableMetric\n      usage\n      percentage\n    }\n  }\n"]);return s=function(){return e},e}function c(){var e=(0,a.Z)(["\n  fragment UserUsageBasedBillingBillingPeriodSummary on UserUsageBasedBillingSummary {\n    __typename\n    currentBillingPeriod {\n      __typename\n      billingPeriodStart\n      billingPeriodEnd\n      totals {\n        ...UserUsageBasedBillingTotals\n      }\n      perRepl {\n        ...UserUsageBasedBillingResourceReplUsage\n      }\n    }\n  }\n  ","\n  ","\n"]);return c=function(){return e},e}function d(){var e=(0,a.Z)(["\n  fragment CurrentUserUsageBasedBillingSummary on CurrentUser {\n    __typename\n    usageBasedBilling {\n      __typename\n      ... on UserUsageBasedBillingSummary {\n        capabilities {\n          canUseUsageBasedBilling\n          explanation\n          hasPaymentMethod\n        }\n        ...UserUsageBasedBillingBillingPeriodSummary\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n    }\n  }\n  ","\n"]);return d=function(){return e},e}function g(){var e=(0,a.Z)(["\n  fragment CurrentUserUsageBasedBillingBudgetFragment on CurrentUser {\n    id\n    usageBasedBillingBudget {\n      ... on UsageBasedBillingBudget {\n        id\n        monthlyBudgetUsd\n        hasReachedBudget\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n"]);return g=function(){return e},e}function f(){var e=(0,a.Z)(["\n  query CurrentUserUsageBasedBilling {\n    currentUser {\n      id\n      username\n      ...CurrentUserUsageBasedBillingSummary\n      ...CurrentUserUsageBasedBillingBudgetFragment\n    }\n  }\n  ","\n  ","\n"]);return f=function(){return e},e}function p(){var e=(0,a.Z)(["\n  mutation UpdateUsageBasedBillingBudget(\n    $input: UpdateUsageBasedBillingBudgetInput!\n  ) {\n    updateUsageBasedBillingBudget(input: $input) {\n      ... on CurrentUser {\n        ...CurrentUserUsageBasedBillingBudgetFragment\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return p=function(){return e},e}var m={},h=(0,l.Ps)(u()),y=(0,l.Ps)(s()),v=(0,l.Ps)(c(),h,y),B=(0,l.Ps)(d(),v),U=(0,l.Ps)(g()),Z=(0,l.Ps)(f(),B,U);function b(e){var n=(0,r.Z)({},m,e);return i.a(Z,n)}var w=(0,l.Ps)(p(),U);function _(e){var n=(0,r.Z)({},m,e);return o.D(w,n)}},44225:function(e,n,t){t.d(n,{t:function(){return S}});var r=t(72006),a=t(74985),l=t(17436),i=t(66980),o=t(76444),u=t(28882),s=t(27425),c=t(8662),d=t(95141),g=t(90602),f=t(16296),p=t(55418),m=t(26473),h=t(61025),y=t(62385),v=t(3689),B=t(27773),U=t(3861),Z=t(79824),b=t(88965),w=t(78810),_=(0,h.X)({self:[b.l0.colWithGap(16)],paymentMethodContainer:[b.l0.colWithGap(16)],addPaymentMethodContainer:[b.l0.colWithGap(6)],loadingContainer:[b.l0.justify.center,b.l0.align.center,b.l0.minHeight(80)]});function S(e){var n=e.goToNewPaymentMethodForm,t=e.onPreferencesUpdated,h=e.showUsageSettingsBudget,S=(0,s.U)(),x=S.loading,P=S.isOnTrialPlan,k=S.isPro,C=S.trialWillCancel,R=(0,c.Q)(),G=R.paymentMethod,T=R.loading,E=R.error,M=(0,i.kr)({defaultAutoRefillEnabledValue:!1,onAutoRefillPreferencesUpdated:function(){t&&t()}}).cardAutoRefillPreferencesProps,I=(0,l.Q)();return T||x||null!=E?(0,a.tZ)(m.G,{css:_.loadingContainer,children:(0,a.tZ)(B.Z,{})}):(0,a.BX)(m.G,{css:_.self,children:[null!=G?(0,a.BX)(m.G,{css:_.paymentMethodContainer,children:[(0,a.BX)(m.G,{css:[b.l0.rowWithGap(8),b.l0.align.center],children:[(0,a.tZ)(f.hU,{alt:"Update Payment Method",onClick:n,children:(0,a.tZ)(y.Z,{})}),(0,a.tZ)(o.R,{last4:G.last4})]}),h?(0,a.BX)(a.HY,{children:[(0,a.tZ)(g.R,{}),(0,a.tZ)(u.L,{})]}):null,(0,a.tZ)(g.R,{}),(0,a.tZ)(i.OK,(0,r.Z)({},M))]}):null," ",null==G?(0,a.BX)(m.G,{css:_.addPaymentMethodContainer,children:[P&&!C?(0,a.tZ)(p.E,{colorway:"primary",icon:(0,a.tZ)(v.Z,{}),text:(0,a.BX)(a.HY,{children:["Adding a payment method will set your"," ",k?I:w.ZK," plan to auto-renew at the end of the trial."]})}):(0,a.tZ)(p.E,{colorway:"warning",icon:(0,a.tZ)(Z.Z,{}),text:"Add a payment method and enable Auto-Refill to prevent your Power Ups from being disabled when you run out of Cycles."}),(0,a.tZ)(d.zx,{text:"Add Payment Method",iconLeft:(0,a.tZ)(U.Z,{}),onClick:n})]}):null]})}},15597:function(e,n,t){t.d(n,{P:function(){return l}});var r=t(9970),a=t(50959);function l(e){var n=(0,a.useState)(e),t=n[0],l=n[1],i=(0,a.useState)([]),o=i[0],u=i[1],s=(0,a.useCallback)((function(e){u((0,r.Z)(o).concat([t])),l(e)}),[o,u,t,l]),c=(0,a.useCallback)((function(){var e=o.pop();u(o),e&&l(e)}),[o,u,l]);return{currentStep:t,goTo:s,goBack:c,canGoBack:o.length>0}}},30638:function(e,n,t){t.d(n,{U:function(){return i}});var r=t(74985),a=t(9434),l=t(95141),i=function(e){var n=e.isPro,t=e.setShowUpgradeModal,i=e.source;return(0,r.tZ)(l.zx,{colorway:"primary",text:n?"Change Storage":"Upgrade Storage",onClick:function(){(0,a.j)(a.U3.UPGRADE_SELECTED,{source:i,isPro:n}),t(!0)}})}},12273:function(e,n,t){t.d(n,{q:function(){return m}});var r=t(74985),a=t(61025),l=t(79824),i=t(55418),o=t(88965),u=t(26473),s=t(11278),c=t(51631),d=t(29262),g=t(68877),f=(0,a.X)({self:[o.l0.colWithGap(8)]}),p=u.K.a,m=function(){var e,n=(0,g.Pf)({}),t=n.data;if(n.loading&&!t)return null;if(!t||"StorageInfo"!==(null===t||void 0===t||null===(e=t.currentUser)||void 0===e?void 0:e.storageInfo.__typename)||"StorageQuota"!==t.currentUser.storageInfo.storageQuota.__typename||"StorageQuotaStatus"!==t.currentUser.storageInfo.storageQuotaStatus2.__typename||"StorageGracePeriodQuota"!==t.currentUser.storageInfo.storageGracePeriodQuota.__typename||"AccountStorageUtilization"!==t.currentUser.storageInfo.accountStorageUtilization.__typename||"UserPowerUpsTypes"!==t.currentUser.userPowerUpsByType.__typename)return null;var a=t.currentUser,o=a.storageInfo,s=o.storageQuotaStatus2.status,d=o.storageQuota.quota,m=o.storageGracePeriodQuota.quota,v=o.accountStorageUtilization.total,B=a.userPowerUpsByType.storage,U=B.currentSku,Z=B.daysLeftInGracePeriod,b=B.isInGracePeriod,w=a.cyclesAutoRefillConfiguration,_=Number(d),S=Number(v),x=s===c.bS.ExceedingQuota,P="0"!==m,k="CyclesAutoRefillConfiguration"===(null===w||void 0===w?void 0:w.__typename)&&w.enabled,C=P&&x?(0,r.tZ)(p,{href:"https://docs.replit.com/programming-ide/workspace-features/expandable-storage",target:"_blank",children:(0,r.tZ)(i.E,{icon:(0,r.tZ)(l.Z,{}),colorway:"orange",text:"You\u2019re prolific! You\u2019re over the storage limit for your plan. Don\u2019t worry, you have a grace period to upgrade your storage or clear space before the limits affect you. Click to learn more"})}):(0,r.tZ)(y,{quotaStatus:s,quota:_,total:S,hasLimitEnforcementGracePeriod:P}),R=U?(0,r.tZ)(h,{sku:U,hasAutorefillEnabled:k,isInGracePeriod:b,daysLeftInGracePeriod:null!==Z&&void 0!==Z?Z:void 0}):null;return null!==C||null!==R?(0,r.BX)(u.G,{css:f.self,children:[C,R]}):null},h=function(e){var n=e.sku,t=e.hasAutorefillEnabled,a=e.isInGracePeriod,o=e.daysLeftInGracePeriod,u=void 0===o?0:o;return a&&u>0?(0,r.tZ)(i.E,{icon:(0,r.tZ)(l.Z,{}),colorway:"primary",text:"You\u2019re out of Cycles to pay for your ".concat(d.zd[n]," GiB ")+"storage add-on. You have ".concat(u," days left to ")+"refill your Cycles, or you\u2019ll lose access to that storage space. To avoid this in the future, turn Cycles Auto-Refill on."}):t?null:(0,r.tZ)(i.E,{icon:(0,r.tZ)(l.Z,{}),colorway:"primary",text:"Turn on Cycles Auto-Refill to prevent your ".concat(d.zd[n]," ")+"GiB storage add-on from expiring when you run out of Cycles."})},y=function(e){var n=e.quotaStatus,t=e.quota,a=e.total;switch(n){case c.bS.ExceedingQuota:return(0,r.tZ)(i.E,{icon:(0,r.tZ)(l.Z,{}),colorway:"orange",text:"Your account is over the storage limit for your plan. Upgrade your account storage or delete Repls or files to free up space."});case c.bS.ApproachingQuota:return(0,r.tZ)(i.E,{icon:(0,r.tZ)(l.Z,{}),colorway:"primary",text:"Your account is almost out of storage. You\u2019re using ".concat((0,s.s)(a)," / ").concat((0,s.s)(t),". Upgrade your account storage or delete Repls or files to free up space.")});default:return null}}},8500:function(e,n,t){t.d(n,{s:function(){return l}});var r=t(51631),a=t(78810),l=function(e,n){switch(e){case r.HP.HackerPro:return"".concat(n," plan");case r.HP.Hacker:return"".concat(a.ZK," plan");default:return"".concat(a.Ic," plan")}}},11278:function(e,n,t){t.d(n,{s:function(){return l}});var r=t(29262),a=t(35291),l=function(e){return e>2*r.lb?"".concat((0,a.$s)(e).toLocaleString(void 0,{maximumFractionDigits:1})," GiB"):"".concat(Math.round((0,a.p6)(e)).toLocaleString()," MiB")}},19344:function(e,n,t){t.d(n,{uZ:function(){return a},yr:function(){return r}});var r=100,a="flag-tropical-pink"}}]);
//# sourceMappingURL=6821-f268855f9c5ab476.js.map